2025-06-03 00:17:21.594 +07:00 [INF] () ChatApp API is starting up...
2025-06-03 00:17:22.106 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: https://localhost:7247
2025-06-03 00:17:22.110 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: http://localhost:5066
2025-06-03 00:17:22.316 +07:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2025-06-03 00:17:22.318 +07:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: Development
2025-06-03 00:17:22.319 +07:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: D:\ChatApp\src\ChatApp.Api
2025-06-03 00:18:07.188 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Initiating Google login. Return URL (client-side): /
2025-06-03 00:18:07.217 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/login-google responded 302 in 1472.4897 ms
2025-06-03 00:18:09.966 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /signin-google responded 302 in 443.5272 ms
2025-06-03 00:18:10.010 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Received Google callback.
2025-06-03 00:18:10.014 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Google authentication successful.
2025-06-03 00:18:10.018 +07:00 [INF] (ChatApp.Application.Services.UserService) Finding or creating user from OAuth. Provider: Google, ExternalId: 110932885050862021885, Email: hoangnguyenn268@gmail.com
2025-06-03 00:18:11.814 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (90ms) [Parameters=[@__providerName_0='?' (Size = 50), @__externalId_1='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[ProviderName] = @__providerName_0 AND [u].[ExternalId] = @__externalId_1
2025-06-03 00:18:11.891 +07:00 [INF] (ChatApp.Application.Services.UserService) Existing user found by ExternalId 110932885050862021885 for Provider Google. Updating info if changed.
2025-06-03 00:18:11.923 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (hoangnguyenn268@gmail.com) processed from Google callback via UserService.
2025-06-03 00:18:11.926 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) Generating JWT token for User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" - hoangnguyenn268@gmail.com
2025-06-03 00:18:11.978 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) JWT token generated successfully for User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa". Token Expiry: "2025-06-02T18:18:11.9284733Z"
2025-06-03 00:18:11.982 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Redirecting to client with token: http://localhost:4200/auth-callback?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJhYTM0YWJlMi0yODRhLTRjMDItYWM5ZS1hZTM4M2ViNGRjNzgiLCJzdWIiOiIyMWMzMzA5OS1lZTZiLTRlNjItODNhOC1mN2M1MWMwYmU0ZmEiLCJlbWFpbCI6ImhvYW5nbmd1eWVubjI2OEBnbWFpbC5jb20iLCJuYW1lIjoiTmd1ecOqbiBIb8OgbmciLCJ1aWQiOiIyMWMzMzA5OS1lZTZiLTRlNjItODNhOC1mN2M1MWMwYmU0ZmEiLCJhdmF0YXIiOiIiLCJuYmYiOjE3NDg4ODQ2OTEsImV4cCI6MTc0ODg4ODI5MSwiaWF0IjoxNzQ4ODg0NjkxLCJpc3MiOiJDaGF0QXBwQXBpIiwiYXVkIjoiQ2hhdEFwcENsaWVudCJ9.4TA_a05sbYcwU8RQa_K_DnlKSl3Fy1S1EyFsW53eJjU
2025-06-03 00:18:11.987 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /Auth/google-callback responded 302 in 2008.2299 ms
2025-06-03 00:18:12.303 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 3.3141 ms
2025-06-03 00:18:12.390 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 00:18:12.447 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:18:12.482 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:18:12.513 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 201.6074 ms
2025-06-03 00:18:12.528 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.3838 ms
2025-06-03 00:18:12.541 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 5.9898 ms
2025-06-03 00:18:12.550 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 3.1700 ms
2025-06-03 00:18:12.557 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0668 ms
2025-06-03 00:18:12.562 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.5735 ms
2025-06-03 00:18:12.618 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.3548 ms
2025-06-03 00:18:12.626 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0728 ms
2025-06-03 00:18:12.631 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3836 ms
2025-06-03 00:18:12.637 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0538 ms
2025-06-03 00:18:12.649 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 8.4799 ms
2025-06-03 00:18:12.660 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.1041 ms
2025-06-03 00:18:12.660 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0559 ms
2025-06-03 00:18:12.670 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 2.3187 ms
2025-06-03 00:18:12.676 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 12.6014 ms
2025-06-03 00:18:12.680 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId 5jk62zEQRKr3LGGFscJW7g
2025-06-03 00:18:12.682 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0617 ms
2025-06-03 00:18:12.697 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:18:12.757 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:18:12.855 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:18:12.879 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 00:18:41.991 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Initiating Google login. Return URL (client-side): /
2025-06-03 00:18:41.994 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/login-google responded 302 in 3.9658 ms
2025-06-03 00:18:55.860 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /signin-google responded 302 in 166.1147 ms
2025-06-03 00:18:55.868 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Received Google callback.
2025-06-03 00:18:55.869 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Google authentication successful.
2025-06-03 00:18:55.873 +07:00 [INF] (ChatApp.Application.Services.UserService) Finding or creating user from OAuth. Provider: Google, ExternalId: 108767110743796812723, Email: hoangnguyennstorage@gmail.com
2025-06-03 00:18:55.883 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__providerName_0='?' (Size = 50), @__externalId_1='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[ProviderName] = @__providerName_0 AND [u].[ExternalId] = @__externalId_1
2025-06-03 00:18:55.889 +07:00 [INF] (ChatApp.Application.Services.UserService) User not found by ExternalId. Checking by Email: hoangnguyennstorage@gmail.com
2025-06-03 00:18:55.899 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 00:18:55.906 +07:00 [INF] (ChatApp.Application.Services.UserService) Creating new user. Email: hoangnguyennstorage@gmail.com, Provider: Google
2025-06-03 00:18:55.927 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 2048), @p2='?' (DbType = DateTime2), @p3='?' (Size = 256), @p4='?' (Size = 256), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 50), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [AvatarUrl], [CreatedAtUtc], [DisplayName], [Email], [ExternalId], [IsActive], [LastSeenUtc], [ProviderName], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-06-03 00:18:55.935 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (hoangnguyennstorage@gmail.com) processed from Google callback via UserService.
2025-06-03 00:18:55.940 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) Generating JWT token for User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" - hoangnguyennstorage@gmail.com
2025-06-03 00:18:55.942 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) JWT token generated successfully for User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68". Token Expiry: "2025-06-02T18:18:55.9421875Z"
2025-06-03 00:18:55.946 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Redirecting to client with token: http://localhost:4200/auth-callback?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJkODAyMDQ4NS02ZGQ5LTQyODAtYjJiOC02OTc0MDE1OTg5NDAiLCJzdWIiOiJiNWMzMGFhMS0xNzJhLTRiZDYtOTU3OS1kM2QzNmM1NWNhNjgiLCJlbWFpbCI6ImhvYW5nbmd1eWVubnN0b3JhZ2VAZ21haWwuY29tIiwibmFtZSI6IkhvYW5nIE5ndXllbiIsInVpZCI6ImI1YzMwYWExLTE3MmEtNGJkNi05NTc5LWQzZDM2YzU1Y2E2OCIsImF2YXRhciI6IiIsIm5iZiI6MTc0ODg4NDczNSwiZXhwIjoxNzQ4ODg4MzM1LCJpYXQiOjE3NDg4ODQ3MzUsImlzcyI6IkNoYXRBcHBBcGkiLCJhdWQiOiJDaGF0QXBwQ2xpZW50In0.PeGwQdhSRNswpB_tBDU7pqIyrhUEy1Jiu5rokb8FZ3k
2025-06-03 00:18:55.952 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /Auth/google-callback responded 302 in 84.1531 ms
2025-06-03 00:18:56.146 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.1604 ms
2025-06-03 00:18:56.151 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "b5c30aa1-172a-4bd6-9579-d3d36c55ca68"
2025-06-03 00:18:56.156 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:18:56.163 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:18:56.169 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 18.5961 ms
2025-06-03 00:18:56.176 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0613 ms
2025-06-03 00:18:56.184 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.4015 ms
2025-06-03 00:18:56.190 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1884 ms
2025-06-03 00:18:56.235 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0548 ms
2025-06-03 00:18:56.239 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3357 ms
2025-06-03 00:18:56.245 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.1429 ms
2025-06-03 00:18:56.252 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.1019 ms
2025-06-03 00:18:56.258 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3561 ms
2025-06-03 00:18:56.262 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0699 ms
2025-06-03 00:18:56.267 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.6816 ms
2025-06-03 00:18:56.271 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0740 ms
2025-06-03 00:18:56.272 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0494 ms
2025-06-03 00:18:56.279 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.4658 ms
2025-06-03 00:18:56.279 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 2.8542 ms
2025-06-03 00:18:56.279 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connected with ConnectionId MwSjoo_MQ901RlAVkJ7i3A
2025-06-03 00:18:56.292 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0728 ms
2025-06-03 00:18:56.294 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:18:56.301 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:18:56.308 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:18:56.320 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" is online
2025-06-03 00:18:56.320 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 43634.2699 ms
2025-06-03 00:18:56.328 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0503 ms
2025-06-03 00:18:59.347 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.2084 ms
2025-06-03 00:18:59.353 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 404 in 0.5267 ms
2025-06-03 00:19:00.673 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 404 in 0.2714 ms
2025-06-03 00:20:12.167 +07:00 [INF] () ChatApp API is starting up...
2025-06-03 00:20:12.471 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: https://localhost:7247
2025-06-03 00:20:12.475 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: http://localhost:5066
2025-06-03 00:20:12.552 +07:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2025-06-03 00:20:12.553 +07:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: Development
2025-06-03 00:20:12.555 +07:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: D:\ChatApp\src\ChatApp.Api
2025-06-03 00:20:12.741 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 25.9945 ms
2025-06-03 00:20:12.740 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 26.5404 ms
2025-06-03 00:20:12.905 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 145.0313 ms
2025-06-03 00:20:12.905 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 145.0361 ms
2025-06-03 00:20:12.923 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 9.1546 ms
2025-06-03 00:20:12.923 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 9.1377 ms
2025-06-03 00:20:12.932 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0842 ms
2025-06-03 00:20:12.933 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0460 ms
2025-06-03 00:20:12.937 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.8687 ms
2025-06-03 00:20:12.940 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.4535 ms
2025-06-03 00:20:12.948 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.2332 ms
2025-06-03 00:20:12.948 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.2426 ms
2025-06-03 00:20:12.954 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0605 ms
2025-06-03 00:20:12.957 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0697 ms
2025-06-03 00:20:12.960 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.6707 ms
2025-06-03 00:20:12.963 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3236 ms
2025-06-03 00:20:12.966 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0756 ms
2025-06-03 00:20:12.969 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0741 ms
2025-06-03 00:20:12.981 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 10.8426 ms
2025-06-03 00:20:12.981 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 6.4025 ms
2025-06-03 00:20:12.988 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0785 ms
2025-06-03 00:20:12.988 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0735 ms
2025-06-03 00:20:12.990 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0548 ms
2025-06-03 00:20:12.990 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0689 ms
2025-06-03 00:20:12.998 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 1.5496 ms
2025-06-03 00:20:12.998 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 3.3756 ms
2025-06-03 00:20:13.012 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 20.7832 ms
2025-06-03 00:20:13.012 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 13.2381 ms
2025-06-03 00:20:13.019 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0581 ms
2025-06-03 00:20:13.023 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0533 ms
2025-06-03 00:20:13.150 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId oDeMLfQtHMRCCv3Vo_FmSg
2025-06-03 00:20:13.150 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connected with ConnectionId jBgosUqnogJwMNysyFpMWA
2025-06-03 00:20:14.310 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (43ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:20:14.310 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (43ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:20:14.436 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:20:14.436 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:20:14.600 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:20:14.600 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:20:14.633 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 00:20:14.633 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" is online
2025-06-03 00:20:14.633 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 1609.4201 ms
2025-06-03 00:20:14.633 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 1606.5900 ms
2025-06-03 00:20:14.645 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0568 ms
2025-06-03 00:20:14.651 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0536 ms
2025-06-03 00:20:15.183 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 531.1496 ms
2025-06-03 00:20:15.307 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.3518 ms
2025-06-03 00:20:15.429 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "b5c30aa1-172a-4bd6-9579-d3d36c55ca68"
2025-06-03 00:20:15.491 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:20:15.527 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:20:15.557 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 244.3334 ms
2025-06-03 00:20:15.567 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0836 ms
2025-06-03 00:20:15.574 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.5140 ms
2025-06-03 00:20:15.612 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.3012 ms
2025-06-03 00:20:15.618 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0695 ms
2025-06-03 00:20:15.622 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3885 ms
2025-06-03 00:20:15.628 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.1532 ms
2025-06-03 00:20:15.633 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0781 ms
2025-06-03 00:20:15.637 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.4261 ms
2025-06-03 00:20:15.641 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0699 ms
2025-06-03 00:20:15.646 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.7559 ms
2025-06-03 00:20:15.650 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0671 ms
2025-06-03 00:20:15.650 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0644 ms
2025-06-03 00:20:15.658 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.3736 ms
2025-06-03 00:20:15.658 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 3.2734 ms
2025-06-03 00:20:15.660 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connected with ConnectionId VNwLy1KX_rfaXGAuKkoPIQ
2025-06-03 00:20:15.666 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0717 ms
2025-06-03 00:20:15.668 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:20:15.676 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:20:15.682 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:20:15.688 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" is online
2025-06-03 00:20:15.688 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 1031.1001 ms
2025-06-03 00:20:15.696 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0582 ms
2025-06-03 00:20:45.028 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.9026 ms
2025-06-03 00:20:45.033 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 404 in 0.6682 ms
2025-06-03 00:21:45.674 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90003.7284 ms
2025-06-03 00:21:45.684 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.1217 ms
2025-06-03 00:21:45.704 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90002.9084 ms
2025-06-03 00:21:45.761 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0555 ms
2025-06-03 00:23:15.698 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90005.9513 ms
2025-06-03 00:23:15.705 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0849 ms
2025-06-03 00:23:15.776 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90007.4770 ms
2025-06-03 00:23:15.796 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0774 ms
2025-06-03 00:24:12.207 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 56498.1859 ms
2025-06-03 00:24:45.808 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90007.7591 ms
2025-06-03 00:24:45.821 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0970 ms
2025-06-03 00:29:02.300 +07:00 [INF] () ChatApp API is starting up...
2025-06-03 00:29:02.573 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: https://localhost:7247
2025-06-03 00:29:02.576 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: http://localhost:5066
2025-06-03 00:29:02.649 +07:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2025-06-03 00:29:02.651 +07:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: Development
2025-06-03 00:29:02.652 +07:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: D:\ChatApp\src\ChatApp.Api
2025-06-03 00:29:06.437 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 19.4789 ms
2025-06-03 00:29:06.786 +07:00 [ERR] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 500 in 330.3556 ms
System.TypeLoadException: Could not load type 'FluentValidation.DependencyInjectionExtensions' from assembly 'FluentValidation.DependencyInjectionExtensions, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0'.
   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__1(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass2_0.<Validate>g__BaseValidate|0() in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 45
   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 63
   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 47
   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-06-03 00:29:06.878 +07:00 [ERR] (ChatApp.Api.Middleware.ErrorHandlingMiddleware) Unhandled exception occurred while processing request /api/users
System.TypeLoadException: Could not load type 'FluentValidation.DependencyInjectionExtensions' from assembly 'FluentValidation.DependencyInjectionExtensions, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0'.
   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__1(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass2_0.<Validate>g__BaseValidate|0() in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 45
   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 63
   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 47
   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at ChatApp.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in D:\ChatApp\src\ChatApp.Api\Middleware\ErrorHandlingMiddleware.cs:line 31
2025-06-03 00:29:43.986 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.4379 ms
2025-06-03 00:29:44.041 +07:00 [ERR] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 500 in 49.6573 ms
System.TypeLoadException: Could not load type 'FluentValidation.DependencyInjectionExtensions' from assembly 'FluentValidation.DependencyInjectionExtensions, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0'.
   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__1(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass2_0.<Validate>g__BaseValidate|0() in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 45
   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 63
   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 47
   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-06-03 00:29:44.078 +07:00 [ERR] (ChatApp.Api.Middleware.ErrorHandlingMiddleware) Unhandled exception occurred while processing request /api/users
System.TypeLoadException: Could not load type 'FluentValidation.DependencyInjectionExtensions' from assembly 'FluentValidation.DependencyInjectionExtensions, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0'.
   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__1(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass2_0.<Validate>g__BaseValidate|0() in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 45
   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 63
   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 47
   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at ChatApp.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in D:\ChatApp\src\ChatApp.Api\Middleware\ErrorHandlingMiddleware.cs:line 31
2025-06-03 00:33:13.874 +07:00 [INF] () ChatApp API is starting up...
2025-06-03 00:33:14.123 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: https://localhost:7247
2025-06-03 00:33:14.126 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: http://localhost:5066
2025-06-03 00:33:14.207 +07:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2025-06-03 00:33:14.209 +07:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: Development
2025-06-03 00:33:14.211 +07:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: D:\ChatApp\src\ChatApp.Api
2025-06-03 00:33:25.807 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 16.9889 ms
2025-06-03 00:33:27.329 +07:00 [ERR] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 500 in 1504.3429 ms
System.TypeLoadException: Could not load type 'FluentValidation.DependencyInjectionExtensions' from assembly 'FluentValidation.DependencyInjectionExtensions, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0'.
   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__1(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass2_0.<Validate>g__BaseValidate|0() in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 45
   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 63
   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 47
   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-06-03 00:33:27.383 +07:00 [ERR] (ChatApp.Api.Middleware.ErrorHandlingMiddleware) Unhandled exception occurred while processing request /api/users
System.TypeLoadException: Could not load type 'FluentValidation.DependencyInjectionExtensions' from assembly 'FluentValidation.DependencyInjectionExtensions, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0'.
   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__1(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass2_0.<Validate>g__BaseValidate|0() in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 45
   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 63
   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 47
   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at ChatApp.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in D:\ChatApp\src\ChatApp.Api\Middleware\ErrorHandlingMiddleware.cs:line 31
2025-06-03 00:34:01.432 +07:00 [INF] () ChatApp API is starting up...
2025-06-03 00:34:01.712 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: https://localhost:7247
2025-06-03 00:34:01.715 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: http://localhost:5066
2025-06-03 00:34:01.802 +07:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2025-06-03 00:34:01.805 +07:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: Development
2025-06-03 00:34:01.808 +07:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: D:\ChatApp\src\ChatApp.Api
2025-06-03 00:34:03.313 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 21.1164 ms
2025-06-03 00:34:03.629 +07:00 [ERR] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 500 in 300.6076 ms
System.TypeLoadException: Could not load type 'FluentValidation.DependencyInjectionExtensions' from assembly 'FluentValidation.DependencyInjectionExtensions, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0'.
   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__1(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass2_0.<Validate>g__BaseValidate|0() in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 45
   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 63
   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 47
   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2025-06-03 00:34:03.689 +07:00 [ERR] (ChatApp.Api.Middleware.ErrorHandlingMiddleware) Unhandled exception occurred while processing request /api/users
System.TypeLoadException: Could not load type 'FluentValidation.DependencyInjectionExtensions' from assembly 'FluentValidation.DependencyInjectionExtensions, Version=12.0.0.0, Culture=neutral, PublicKeyToken=7de548da2fbae0f0'.
   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitImplementation(ModelMetadata& metadata, String& key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__1(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass2_0.<Validate>g__BaseValidate|0() in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 45
   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 63
   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel, Object container) in /_/src/FluentValidation.AspNetCore/FluentValidationVisitor.cs:line 47
   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult, Object container)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value, Object container)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at ChatApp.Api.Middleware.ErrorHandlingMiddleware.InvokeAsync(HttpContext context) in D:\ChatApp\src\ChatApp.Api\Middleware\ErrorHandlingMiddleware.cs:line 31
2025-06-03 00:35:34.431 +07:00 [INF] () ChatApp API is starting up...
2025-06-03 00:35:34.781 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: https://localhost:7247
2025-06-03 00:35:34.786 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: http://localhost:5066
2025-06-03 00:35:34.928 +07:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2025-06-03 00:35:34.931 +07:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: Development
2025-06-03 00:35:34.932 +07:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: D:\ChatApp\src\ChatApp.Api
2025-06-03 00:35:41.256 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 15.1987 ms
2025-06-03 00:35:42.729 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 00:35:44.261 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (84ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:35:44.316 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:35:44.339 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 3066.1103 ms
2025-06-03 00:35:44.361 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.7358 ms
2025-06-03 00:35:44.382 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 10.6240 ms
2025-06-03 00:35:44.395 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 6.2658 ms
2025-06-03 00:35:44.446 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0623 ms
2025-06-03 00:35:44.451 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.8819 ms
2025-06-03 00:35:44.457 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.2297 ms
2025-06-03 00:35:44.464 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0623 ms
2025-06-03 00:35:44.468 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3587 ms
2025-06-03 00:35:44.474 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0504 ms
2025-06-03 00:35:44.487 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 10.1368 ms
2025-06-03 00:35:44.493 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0666 ms
2025-06-03 00:35:44.495 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0516 ms
2025-06-03 00:35:44.503 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 2.7003 ms
2025-06-03 00:35:44.508 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 10.4792 ms
2025-06-03 00:35:44.513 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId TJZHud5Uq160burSKazJFQ
2025-06-03 00:35:44.515 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0587 ms
2025-06-03 00:35:44.564 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:35:44.649 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:35:44.784 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:35:44.805 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 00:35:51.167 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.2082 ms
2025-06-03 00:35:51.188 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:35:51.260 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:35:51.296 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:35:51.317 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:35:51.325 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 152.8817 ms
2025-06-03 00:36:03.722 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0823 ms
2025-06-03 00:36:03.729 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:36:03.731 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:36:03.737 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:36:03.745 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:36:03.748 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 22.2878 ms
2025-06-03 00:36:21.258 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Initiating Google login. Return URL (client-side): /
2025-06-03 00:36:21.292 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/login-google responded 302 in 35.9419 ms
2025-06-03 00:36:34.104 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /signin-google responded 302 in 391.3389 ms
2025-06-03 00:36:34.115 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Received Google callback.
2025-06-03 00:36:34.119 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Google authentication successful.
2025-06-03 00:36:34.122 +07:00 [INF] (ChatApp.Application.Services.UserService) Finding or creating user from OAuth. Provider: Google, ExternalId: 108767110743796812723, Email: hoangnguyennstorage@gmail.com
2025-06-03 00:36:34.142 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__providerName_0='?' (Size = 50), @__externalId_1='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[ProviderName] = @__providerName_0 AND [u].[ExternalId] = @__externalId_1
2025-06-03 00:36:34.147 +07:00 [INF] (ChatApp.Application.Services.UserService) Existing user found by ExternalId 108767110743796812723 for Provider Google. Updating info if changed.
2025-06-03 00:36:34.151 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (hoangnguyennstorage@gmail.com) processed from Google callback via UserService.
2025-06-03 00:36:34.155 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) Generating JWT token for User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" - hoangnguyennstorage@gmail.com
2025-06-03 00:36:34.168 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) JWT token generated successfully for User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68". Token Expiry: "2025-06-02T18:36:34.1613338Z"
2025-06-03 00:36:34.176 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Redirecting to client with token: http://localhost:4200/auth-callback?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI0YTNlNzNiMi05NjQ5LTQ4NzMtYTRhYi0yMmFiYmQxZGUyMjkiLCJzdWIiOiJiNWMzMGFhMS0xNzJhLTRiZDYtOTU3OS1kM2QzNmM1NWNhNjgiLCJlbWFpbCI6ImhvYW5nbmd1eWVubnN0b3JhZ2VAZ21haWwuY29tIiwibmFtZSI6IkhvYW5nIE5ndXllbiIsInVpZCI6ImI1YzMwYWExLTE3MmEtNGJkNi05NTc5LWQzZDM2YzU1Y2E2OCIsImF2YXRhciI6IiIsIm5iZiI6MTc0ODg4NTc5NCwiZXhwIjoxNzQ4ODg5Mzk0LCJpYXQiOjE3NDg4ODU3OTQsImlzcyI6IkNoYXRBcHBBcGkiLCJhdWQiOiJDaGF0QXBwQ2xpZW50In0.RjQfJ2oU_x-ZuacFi1i4e9Big_ykwt-glrgggX9I1Dc
2025-06-03 00:36:34.178 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /Auth/google-callback responded 302 in 67.5131 ms
2025-06-03 00:36:34.396 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0524 ms
2025-06-03 00:36:34.401 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "b5c30aa1-172a-4bd6-9579-d3d36c55ca68"
2025-06-03 00:36:34.404 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:36:34.410 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:36:34.414 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 14.1628 ms
2025-06-03 00:36:34.423 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0876 ms
2025-06-03 00:36:34.432 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.4110 ms
2025-06-03 00:36:34.439 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1949 ms
2025-06-03 00:36:34.484 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0542 ms
2025-06-03 00:36:34.489 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3522 ms
2025-06-03 00:36:34.494 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.1247 ms
2025-06-03 00:36:34.504 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0558 ms
2025-06-03 00:36:34.509 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2981 ms
2025-06-03 00:36:34.517 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0474 ms
2025-06-03 00:36:34.522 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.6508 ms
2025-06-03 00:36:34.536 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0789 ms
2025-06-03 00:36:34.537 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0580 ms
2025-06-03 00:36:34.544 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.4492 ms
2025-06-03 00:36:34.545 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connected with ConnectionId jvnyKVgeYGRPZdd2h8HL1Q
2025-06-03 00:36:34.547 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 5.8197 ms
2025-06-03 00:36:34.583 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:36:34.586 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0554 ms
2025-06-03 00:36:34.590 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:36:34.602 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:36:34.618 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" is online
2025-06-03 00:36:34.618 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 50098.2423 ms
2025-06-03 00:36:34.630 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0501 ms
2025-06-03 00:36:36.367 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.1853 ms
2025-06-03 00:36:36.372 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:36:36.374 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 00:36:36.379 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:36:36.389 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:36:36.393 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 20.9734 ms
2025-06-03 00:36:42.725 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0342 ms
2025-06-03 00:36:42.731 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:36:42.733 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:36:42.738 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:36:42.743 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:36:42.752 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 21.3375 ms
2025-06-03 00:36:45.174 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0465 ms
2025-06-03 00:36:45.178 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:36:45.180 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 00:36:45.183 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:36:45.188 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:36:45.195 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 17.3703 ms
2025-06-03 00:36:46.076 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:36:46.078 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 00:36:46.082 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:36:46.088 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:36:46.095 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 19.6703 ms
2025-06-03 00:36:50.051 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:36:50.053 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 00:36:50.057 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:36:50.063 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:36:50.071 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 21.2983 ms
2025-06-03 00:36:53.515 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/logout responded 204 in 0.0544 ms
2025-06-03 00:36:53.522 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) User 21c33099-ee6b-4e62-83a8-f7c51c0be4fa requesting logout.
2025-06-03 00:36:53.523 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Logout processed for User 21c33099-ee6b-4e62-83a8-f7c51c0be4fa. Client should clear token.
2025-06-03 00:36:53.527 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /auth/logout responded 200 in 7.8813 ms
2025-06-03 00:36:53.532 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0339 ms
2025-06-03 00:36:53.537 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.4886 ms
2025-06-03 00:36:53.538 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0454 ms
2025-06-03 00:36:53.542 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 18908.9936 ms
2025-06-03 00:36:53.552 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User 21c33099-ee6b-4e62-83a8-f7c51c0be4fa (ConnectionId: TJZHud5Uq160burSKazJFQ) disconnected. Exception: N/A
2025-06-03 00:36:53.559 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:36:53.575 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP DELETE /chathub responded 202 in 9.5828 ms
2025-06-03 00:36:53.579 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userConnection_UserId_0='?' (DbType = Guid), @__Context_ConnectionId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userConnection_UserId_0 AND [u].[ConnectionId] <> @__Context_ConnectionId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:36:53.612 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserConnections]
OUTPUT 1
WHERE [ConnectionId] = @p0;
2025-06-03 00:36:54.352 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Initiating Google login. Return URL (client-side): /
2025-06-03 00:36:54.355 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/login-google responded 302 in 3.9018 ms
2025-06-03 00:36:56.709 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /signin-google responded 302 in 114.5638 ms
2025-06-03 00:36:56.718 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Received Google callback.
2025-06-03 00:36:56.719 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Google authentication successful.
2025-06-03 00:36:56.721 +07:00 [INF] (ChatApp.Application.Services.UserService) Finding or creating user from OAuth. Provider: Google, ExternalId: 110932885050862021885, Email: hoangnguyenn268@gmail.com
2025-06-03 00:36:56.726 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__providerName_0='?' (Size = 50), @__externalId_1='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[ProviderName] = @__providerName_0 AND [u].[ExternalId] = @__externalId_1
2025-06-03 00:36:56.734 +07:00 [INF] (ChatApp.Application.Services.UserService) Existing user found by ExternalId 110932885050862021885 for Provider Google. Updating info if changed.
2025-06-03 00:36:56.736 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (hoangnguyenn268@gmail.com) processed from Google callback via UserService.
2025-06-03 00:36:56.737 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) Generating JWT token for User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" - hoangnguyenn268@gmail.com
2025-06-03 00:36:56.739 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) JWT token generated successfully for User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa". Token Expiry: "2025-06-02T18:36:56.7391394Z"
2025-06-03 00:36:56.740 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Redirecting to client with token: http://localhost:4200/auth-callback?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIxNTA0NDcwNy0wNGVkLTQ5MjYtYjQ3ZC03ZTM5YjI0YmU0MWEiLCJzdWIiOiIyMWMzMzA5OS1lZTZiLTRlNjItODNhOC1mN2M1MWMwYmU0ZmEiLCJlbWFpbCI6ImhvYW5nbmd1eWVubjI2OEBnbWFpbC5jb20iLCJuYW1lIjoiTmd1ecOqbiBIb8OgbmciLCJ1aWQiOiIyMWMzMzA5OS1lZTZiLTRlNjItODNhOC1mN2M1MWMwYmU0ZmEiLCJhdmF0YXIiOiIiLCJuYmYiOjE3NDg4ODU4MTYsImV4cCI6MTc0ODg4OTQxNiwiaWF0IjoxNzQ4ODg1ODE2LCJpc3MiOiJDaGF0QXBwQXBpIiwiYXVkIjoiQ2hhdEFwcENsaWVudCJ9.iX6QdOPidyZXhr8LzQrY9T0iSn5umYGtt51LfgxYmzo
2025-06-03 00:36:56.743 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /Auth/google-callback responded 302 in 25.0100 ms
2025-06-03 00:36:57.057 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0371 ms
2025-06-03 00:36:57.062 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 00:36:57.066 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:36:57.077 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:36:57.081 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 20.0557 ms
2025-06-03 00:36:57.207 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0354 ms
2025-06-03 00:36:57.212 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3966 ms
2025-06-03 00:36:57.244 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.2597 ms
2025-06-03 00:36:57.254 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0487 ms
2025-06-03 00:36:57.271 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3193 ms
2025-06-03 00:36:57.314 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.2558 ms
2025-06-03 00:36:57.323 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0450 ms
2025-06-03 00:36:57.327 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3867 ms
2025-06-03 00:36:57.337 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0338 ms
2025-06-03 00:36:57.342 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.3625 ms
2025-06-03 00:36:57.353 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0482 ms
2025-06-03 00:36:57.354 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0374 ms
2025-06-03 00:36:57.359 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2875 ms
2025-06-03 00:36:57.359 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 2.5166 ms
2025-06-03 00:36:57.359 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId DM7-qizZtTufBZMb_kCuAg
2025-06-03 00:36:57.372 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0307 ms
2025-06-03 00:36:57.373 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:36:57.384 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:36:57.392 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:36:57.401 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 00:36:57.401 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 22805.0573 ms
2025-06-03 00:36:57.408 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.2554 ms
2025-06-03 00:36:58.882 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0434 ms
2025-06-03 00:36:58.888 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:36:58.890 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:36:58.896 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:36:58.905 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:36:58.913 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 26.1248 ms
2025-06-03 00:37:01.423 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0363 ms
2025-06-03 00:37:01.428 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:37:01.431 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 00:37:01.441 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:37:01.447 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:37:01.454 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 25.9938 ms
2025-06-03 00:37:02.088 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:37:02.091 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 00:37:02.094 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:37:02.100 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:37:02.108 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 20.0295 ms
2025-06-03 00:37:02.567 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:37:02.570 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 00:37:02.573 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:37:02.578 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:37:02.581 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 14.5541 ms
2025-06-03 00:37:04.696 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0240 ms
2025-06-03 00:37:04.701 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:37:04.702 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:37:04.705 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:37:04.711 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:37:04.714 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 13.9597 ms
2025-06-03 00:37:05.098 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:37:05.100 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:37:05.104 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:37:05.108 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:37:05.112 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 14.5900 ms
2025-06-03 00:37:05.280 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:37:05.282 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:37:05.286 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:37:05.291 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:37:05.299 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 18.9929 ms
2025-06-03 00:37:05.448 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:37:05.450 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:37:05.454 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:37:05.458 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:37:05.466 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 18.7100 ms
2025-06-03 00:37:05.612 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:37:05.614 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:37:05.617 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:37:05.622 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:37:05.626 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 14.8196 ms
2025-06-03 00:37:08.671 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/logout responded 204 in 0.0385 ms
2025-06-03 00:37:08.676 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) User b5c30aa1-172a-4bd6-9579-d3d36c55ca68 requesting logout.
2025-06-03 00:37:08.677 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Logout processed for User b5c30aa1-172a-4bd6-9579-d3d36c55ca68. Client should clear token.
2025-06-03 00:37:08.679 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /auth/logout responded 200 in 2.8646 ms
2025-06-03 00:37:08.684 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0245 ms
2025-06-03 00:37:08.688 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2314 ms
2025-06-03 00:37:08.695 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0531 ms
2025-06-03 00:37:08.696 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User b5c30aa1-172a-4bd6-9579-d3d36c55ca68 (ConnectionId: jvnyKVgeYGRPZdd2h8HL1Q) disconnected. Exception: N/A
2025-06-03 00:37:08.688 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 11274.2359 ms
2025-06-03 00:37:08.708 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP DELETE /chathub responded 202 in 0.3445 ms
2025-06-03 00:37:08.714 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:37:08.723 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userConnection_UserId_0='?' (DbType = Guid), @__Context_ConnectionId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userConnection_UserId_0 AND [u].[ConnectionId] <> @__Context_ConnectionId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:37:08.736 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserConnections]
OUTPUT 1
WHERE [ConnectionId] = @p0;
2025-06-03 00:37:09.525 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Initiating Google login. Return URL (client-side): /
2025-06-03 00:37:09.527 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/login-google responded 302 in 2.5834 ms
2025-06-03 00:37:09.844 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /signin-google responded 302 in 113.7147 ms
2025-06-03 00:37:09.851 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Received Google callback.
2025-06-03 00:37:09.853 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Google authentication successful.
2025-06-03 00:37:09.854 +07:00 [INF] (ChatApp.Application.Services.UserService) Finding or creating user from OAuth. Provider: Google, ExternalId: 108767110743796812723, Email: hoangnguyennstorage@gmail.com
2025-06-03 00:37:09.858 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__providerName_0='?' (Size = 50), @__externalId_1='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[ProviderName] = @__providerName_0 AND [u].[ExternalId] = @__externalId_1
2025-06-03 00:37:09.862 +07:00 [INF] (ChatApp.Application.Services.UserService) Existing user found by ExternalId 108767110743796812723 for Provider Google. Updating info if changed.
2025-06-03 00:37:09.864 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (hoangnguyennstorage@gmail.com) processed from Google callback via UserService.
2025-06-03 00:37:09.865 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) Generating JWT token for User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" - hoangnguyennstorage@gmail.com
2025-06-03 00:37:09.870 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) JWT token generated successfully for User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68". Token Expiry: "2025-06-02T18:37:09.8707058Z"
2025-06-03 00:37:09.872 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Redirecting to client with token: http://localhost:4200/auth-callback?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIxYzY2YjNlMi01Y2UxLTQ0YjEtOTJmNy1iNTZmNWJjMDJkNGEiLCJzdWIiOiJiNWMzMGFhMS0xNzJhLTRiZDYtOTU3OS1kM2QzNmM1NWNhNjgiLCJlbWFpbCI6ImhvYW5nbmd1eWVubnN0b3JhZ2VAZ21haWwuY29tIiwibmFtZSI6IkhvYW5nIE5ndXllbiIsInVpZCI6ImI1YzMwYWExLTE3MmEtNGJkNi05NTc5LWQzZDM2YzU1Y2E2OCIsImF2YXRhciI6IiIsIm5iZiI6MTc0ODg4NTgyOSwiZXhwIjoxNzQ4ODg5NDI5LCJpYXQiOjE3NDg4ODU4MjksImlzcyI6IkNoYXRBcHBBcGkiLCJhdWQiOiJDaGF0QXBwQ2xpZW50In0.zxudh0-H0r3YcCZcyAHN8lPwihHD9YkaUJNS7VMM6r0
2025-06-03 00:37:09.875 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /Auth/google-callback responded 302 in 23.9943 ms
2025-06-03 00:37:10.026 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0273 ms
2025-06-03 00:37:10.031 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "b5c30aa1-172a-4bd6-9579-d3d36c55ca68"
2025-06-03 00:37:10.034 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:37:10.042 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:37:10.045 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 14.1788 ms
2025-06-03 00:37:10.051 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0257 ms
2025-06-03 00:37:10.059 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2414 ms
2025-06-03 00:37:10.097 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1896 ms
2025-06-03 00:37:10.104 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0285 ms
2025-06-03 00:37:10.108 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2399 ms
2025-06-03 00:37:10.119 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.1706 ms
2025-06-03 00:37:10.132 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0295 ms
2025-06-03 00:37:10.140 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3876 ms
2025-06-03 00:37:10.145 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0397 ms
2025-06-03 00:37:10.153 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.3538 ms
2025-06-03 00:37:10.157 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0348 ms
2025-06-03 00:37:10.157 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0096 ms
2025-06-03 00:37:10.175 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 11.2947 ms
2025-06-03 00:37:10.175 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 14.3983 ms
2025-06-03 00:37:10.175 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connected with ConnectionId FDHlpDXFD88OQ97O2uBBJg
2025-06-03 00:37:10.186 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0233 ms
2025-06-03 00:37:10.187 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:37:10.194 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:37:10.203 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:37:10.208 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" is online
2025-06-03 00:37:10.209 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 12833.1008 ms
2025-06-03 00:37:10.219 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0219 ms
2025-06-03 00:37:11.819 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0453 ms
2025-06-03 00:37:11.824 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:37:11.827 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 00:37:11.833 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:37:11.842 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:37:11.848 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 24.7391 ms
2025-06-03 00:38:22.882 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0278 ms
2025-06-03 00:38:22.888 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:38:22.889 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:38:22.894 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:38:22.900 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:38:22.903 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 16.3937 ms
2025-06-03 00:38:40.196 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90005.8571 ms
2025-06-03 00:38:40.206 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0258 ms
2025-06-03 00:38:40.228 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90005.4390 ms
2025-06-03 00:38:40.236 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0252 ms
2025-06-03 00:39:02.519 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0355 ms
2025-06-03 00:39:02.524 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:39:02.526 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:39:02.529 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:39:02.532 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:39:02.535 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 11.4529 ms
2025-06-03 00:39:14.034 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0373 ms
2025-06-03 00:39:14.039 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:39:14.041 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 00:39:14.045 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:39:14.050 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:39:14.053 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 14.4036 ms
2025-06-03 00:39:19.448 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0352 ms
2025-06-03 00:39:19.453 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:39:19.455 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 00:39:19.458 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:39:19.461 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:39:19.466 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 13.3085 ms
2025-06-03 00:40:10.222 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90013.0872 ms
2025-06-03 00:40:10.230 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0241 ms
2025-06-03 00:40:10.253 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90012.3065 ms
2025-06-03 00:40:10.260 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0249 ms
2025-06-03 00:40:13.717 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/logout responded 204 in 0.0237 ms
2025-06-03 00:40:13.722 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) User 21c33099-ee6b-4e62-83a8-f7c51c0be4fa requesting logout.
2025-06-03 00:40:13.723 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Logout processed for User 21c33099-ee6b-4e62-83a8-f7c51c0be4fa. Client should clear token.
2025-06-03 00:40:13.724 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /auth/logout responded 200 in 2.7166 ms
2025-06-03 00:40:13.732 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0225 ms
2025-06-03 00:40:13.736 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1942 ms
2025-06-03 00:40:13.736 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 3472.7585 ms
2025-06-03 00:40:13.736 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User 21c33099-ee6b-4e62-83a8-f7c51c0be4fa (ConnectionId: DM7-qizZtTufBZMb_kCuAg) disconnected. Exception: N/A
2025-06-03 00:40:13.745 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0349 ms
2025-06-03 00:40:13.752 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:40:13.767 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (10ms) [Parameters=[@__userConnection_UserId_0='?' (DbType = Guid), @__Context_ConnectionId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userConnection_UserId_0 AND [u].[ConnectionId] <> @__Context_ConnectionId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:40:13.768 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP DELETE /chathub responded 202 in 0.4415 ms
2025-06-03 00:40:13.776 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserConnections]
OUTPUT 1
WHERE [ConnectionId] = @p0;
2025-06-03 00:40:25.334 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Initiating Google login. Return URL (client-side): /
2025-06-03 00:40:25.336 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/login-google responded 302 in 1.9632 ms
2025-06-03 00:40:28.234 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /signin-google responded 302 in 259.1475 ms
2025-06-03 00:40:28.243 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Received Google callback.
2025-06-03 00:40:28.244 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Google authentication successful.
2025-06-03 00:40:28.246 +07:00 [INF] (ChatApp.Application.Services.UserService) Finding or creating user from OAuth. Provider: Google, ExternalId: 110932885050862021885, Email: hoangnguyenn268@gmail.com
2025-06-03 00:40:28.252 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__providerName_0='?' (Size = 50), @__externalId_1='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[ProviderName] = @__providerName_0 AND [u].[ExternalId] = @__externalId_1
2025-06-03 00:40:28.263 +07:00 [INF] (ChatApp.Application.Services.UserService) Existing user found by ExternalId 110932885050862021885 for Provider Google. Updating info if changed.
2025-06-03 00:40:28.265 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (hoangnguyenn268@gmail.com) processed from Google callback via UserService.
2025-06-03 00:40:28.266 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) Generating JWT token for User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" - hoangnguyenn268@gmail.com
2025-06-03 00:40:28.269 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) JWT token generated successfully for User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa". Token Expiry: "2025-06-02T18:40:28.2694489Z"
2025-06-03 00:40:28.275 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Redirecting to client with token: http://localhost:4200/auth-callback?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJjZDM1N2ZlMS04NGY2LTRkMjAtYTZhOS1iNDYyMmM0M2MxMjEiLCJzdWIiOiIyMWMzMzA5OS1lZTZiLTRlNjItODNhOC1mN2M1MWMwYmU0ZmEiLCJlbWFpbCI6ImhvYW5nbmd1eWVubjI2OEBnbWFpbC5jb20iLCJuYW1lIjoiTmd1ecOqbiBIb8OgbmciLCJ1aWQiOiIyMWMzMzA5OS1lZTZiLTRlNjItODNhOC1mN2M1MWMwYmU0ZmEiLCJhdmF0YXIiOiIiLCJuYmYiOjE3NDg4ODYwMjgsImV4cCI6MTc0ODg4OTYyOCwiaWF0IjoxNzQ4ODg2MDI4LCJpc3MiOiJDaGF0QXBwQXBpIiwiYXVkIjoiQ2hhdEFwcENsaWVudCJ9.sks85vWkRSqnvlth6MwKom2mfqQjQGKyKO-UNbZtKd8
2025-06-03 00:40:28.279 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /Auth/google-callback responded 302 in 36.1320 ms
2025-06-03 00:40:28.713 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0398 ms
2025-06-03 00:40:28.724 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 00:40:28.736 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:40:28.750 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:40:28.754 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 30.4747 ms
2025-06-03 00:40:28.917 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0342 ms
2025-06-03 00:40:28.922 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3932 ms
2025-06-03 00:40:29.068 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1125 ms
2025-06-03 00:40:29.091 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0530 ms
2025-06-03 00:40:29.095 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2456 ms
2025-06-03 00:40:29.171 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.2145 ms
2025-06-03 00:40:29.182 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0325 ms
2025-06-03 00:40:29.186 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.1898 ms
2025-06-03 00:40:29.195 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0352 ms
2025-06-03 00:40:29.199 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.3051 ms
2025-06-03 00:40:29.210 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0369 ms
2025-06-03 00:40:29.210 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0159 ms
2025-06-03 00:40:29.217 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1567 ms
2025-06-03 00:40:29.217 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 2.2773 ms
2025-06-03 00:40:29.217 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId AOqCzGsw5zB4l6QbM1t2-g
2025-06-03 00:40:29.230 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:40:29.231 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0267 ms
2025-06-03 00:40:29.236 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:40:29.248 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:40:29.253 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 00:40:29.253 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 19019.8562 ms
2025-06-03 00:40:29.264 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0224 ms
2025-06-03 00:41:59.258 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90016.2073 ms
2025-06-03 00:41:59.268 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.1110 ms
2025-06-03 00:41:59.272 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90004.9723 ms
2025-06-03 00:41:59.277 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0218 ms
2025-06-03 00:43:30.142 +07:00 [INF] () ChatApp API is starting up...
2025-06-03 00:43:30.442 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: https://localhost:7247
2025-06-03 00:43:30.446 +07:00 [INF] (Microsoft.Hosting.Lifetime) Now listening on: http://localhost:5066
2025-06-03 00:43:30.528 +07:00 [INF] (Microsoft.Hosting.Lifetime) Application started. Press Ctrl+C to shut down.
2025-06-03 00:43:30.530 +07:00 [INF] (Microsoft.Hosting.Lifetime) Hosting environment: Development
2025-06-03 00:43:30.531 +07:00 [INF] (Microsoft.Hosting.Lifetime) Content root path: D:\ChatApp\src\ChatApp.Api
2025-06-03 00:43:40.888 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 19.9119 ms
2025-06-03 00:43:41.346 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 00:43:42.518 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (46ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:43:42.577 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:43:42.606 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 1698.2744 ms
2025-06-03 00:43:42.629 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 1.2979 ms
2025-06-03 00:43:42.652 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 12.0958 ms
2025-06-03 00:43:42.723 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 8.4509 ms
2025-06-03 00:43:42.731 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0606 ms
2025-06-03 00:43:42.735 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.6216 ms
2025-06-03 00:43:42.743 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.2469 ms
2025-06-03 00:43:42.749 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0586 ms
2025-06-03 00:43:42.754 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3663 ms
2025-06-03 00:43:42.759 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0818 ms
2025-06-03 00:43:42.773 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 9.5290 ms
2025-06-03 00:43:42.779 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0614 ms
2025-06-03 00:43:42.779 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0560 ms
2025-06-03 00:43:42.788 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 3.2807 ms
2025-06-03 00:43:42.795 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 12.1812 ms
2025-06-03 00:43:42.800 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId SGNjgaFTBqB4bQoqLUSRNA
2025-06-03 00:43:42.801 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0731 ms
2025-06-03 00:43:42.848 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:43:42.941 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:43:43.078 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:43:43.099 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 00:43:44.821 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/logout responded 204 in 0.2394 ms
2025-06-03 00:43:44.833 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) User 21c33099-ee6b-4e62-83a8-f7c51c0be4fa requesting logout.
2025-06-03 00:43:44.835 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Logout processed for User 21c33099-ee6b-4e62-83a8-f7c51c0be4fa. Client should clear token.
2025-06-03 00:43:44.839 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /auth/logout responded 200 in 13.4172 ms
2025-06-03 00:43:44.846 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0734 ms
2025-06-03 00:43:44.852 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.7676 ms
2025-06-03 00:43:44.853 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0841 ms
2025-06-03 00:43:44.860 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 2055.0904 ms
2025-06-03 00:43:44.866 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User 21c33099-ee6b-4e62-83a8-f7c51c0be4fa (ConnectionId: SGNjgaFTBqB4bQoqLUSRNA) disconnected. Exception: N/A
2025-06-03 00:43:44.879 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP DELETE /chathub responded 202 in 6.7809 ms
2025-06-03 00:43:44.885 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:43:44.900 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userConnection_UserId_0='?' (DbType = Guid), @__Context_ConnectionId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userConnection_UserId_0 AND [u].[ConnectionId] <> @__Context_ConnectionId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:43:44.911 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [UserConnections]
OUTPUT 1
WHERE [ConnectionId] = @p0;
2025-06-03 00:43:45.732 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Initiating Google login. Return URL (client-side): /
2025-06-03 00:43:45.768 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/login-google responded 302 in 42.4062 ms
2025-06-03 00:43:49.335 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /signin-google responded 302 in 453.8882 ms
2025-06-03 00:43:49.349 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Received Google callback.
2025-06-03 00:43:49.352 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Google authentication successful.
2025-06-03 00:43:49.355 +07:00 [INF] (ChatApp.Application.Services.UserService) Finding or creating user from OAuth. Provider: Google, ExternalId: 110932885050862021885, Email: hoangnguyenn268@gmail.com
2025-06-03 00:43:49.370 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__providerName_0='?' (Size = 50), @__externalId_1='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[ProviderName] = @__providerName_0 AND [u].[ExternalId] = @__externalId_1
2025-06-03 00:43:49.374 +07:00 [INF] (ChatApp.Application.Services.UserService) Existing user found by ExternalId 110932885050862021885 for Provider Google. Updating info if changed.
2025-06-03 00:43:49.379 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (hoangnguyenn268@gmail.com) processed from Google callback via UserService.
2025-06-03 00:43:49.382 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) Generating JWT token for User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" - hoangnguyenn268@gmail.com
2025-06-03 00:43:49.392 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) JWT token generated successfully for User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa". Token Expiry: "2025-06-02T18:43:49.3844623Z"
2025-06-03 00:43:49.395 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Redirecting to client with token: http://localhost:4200/auth-callback?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI1YjUzM2Y2OS05NWQxLTQ4MjAtYmI2Zi00NTc5NTlhNWNlNDEiLCJzdWIiOiIyMWMzMzA5OS1lZTZiLTRlNjItODNhOC1mN2M1MWMwYmU0ZmEiLCJlbWFpbCI6ImhvYW5nbmd1eWVubjI2OEBnbWFpbC5jb20iLCJuYW1lIjoiTmd1ecOqbiBIb8OgbmciLCJ1aWQiOiIyMWMzMzA5OS1lZTZiLTRlNjItODNhOC1mN2M1MWMwYmU0ZmEiLCJhdmF0YXIiOiIiLCJuYmYiOjE3NDg4ODYyMjksImV4cCI6MTc0ODg4OTgyOSwiaWF0IjoxNzQ4ODg2MjI5LCJpc3MiOiJDaGF0QXBwQXBpIiwiYXVkIjoiQ2hhdEFwcENsaWVudCJ9.cORzBW57mkAwS1vWPeSvWwFfurqV5D2T270soiq-fiI
2025-06-03 00:43:49.397 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /Auth/google-callback responded 302 in 53.1032 ms
2025-06-03 00:43:49.726 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0938 ms
2025-06-03 00:43:49.731 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 00:43:49.735 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:43:49.741 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:43:49.744 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 13.7902 ms
2025-06-03 00:43:49.880 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0716 ms
2025-06-03 00:43:49.885 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.5228 ms
2025-06-03 00:43:49.943 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.3387 ms
2025-06-03 00:43:50.009 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.1103 ms
2025-06-03 00:43:50.016 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3699 ms
2025-06-03 00:43:50.045 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.2420 ms
2025-06-03 00:43:50.055 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.1266 ms
2025-06-03 00:43:50.060 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3573 ms
2025-06-03 00:43:50.068 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0474 ms
2025-06-03 00:43:50.073 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.7719 ms
2025-06-03 00:43:50.079 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0676 ms
2025-06-03 00:43:50.082 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0682 ms
2025-06-03 00:43:50.089 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.3336 ms
2025-06-03 00:43:50.089 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 4.4150 ms
2025-06-03 00:43:50.090 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId o8MAhzHqzibTVx1QY5eyHQ
2025-06-03 00:43:50.101 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0611 ms
2025-06-03 00:43:50.102 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:43:50.111 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:43:50.119 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:43:50.125 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 00:44:20.306 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.1194 ms
2025-06-03 00:44:20.330 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:44:20.340 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:44:20.365 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:44:20.380 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:44:20.385 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 71.5497 ms
2025-06-03 00:45:20.119 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90012.6636 ms
2025-06-03 00:45:20.130 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0692 ms
2025-06-03 00:46:50.154 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90015.6836 ms
2025-06-03 00:46:50.167 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.1340 ms
2025-06-03 00:48:20.182 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90010.3893 ms
2025-06-03 00:48:20.195 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0774 ms
2025-06-03 00:49:50.205 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90005.2375 ms
2025-06-03 00:49:50.218 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0468 ms
2025-06-03 00:51:20.237 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90014.9038 ms
2025-06-03 00:51:20.250 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0355 ms
2025-06-03 00:51:24.098 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 3843.1248 ms
2025-06-03 00:51:24.463 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0563 ms
2025-06-03 00:51:24.469 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 00:51:24.541 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:51:24.557 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:51:24.565 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 96.7213 ms
2025-06-03 00:51:24.911 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0819 ms
2025-06-03 00:51:24.916 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.4506 ms
2025-06-03 00:51:25.032 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1561 ms
2025-06-03 00:51:25.101 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0460 ms
2025-06-03 00:51:25.107 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:51:25.109 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:51:25.114 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:51:25.119 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:51:25.125 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 19.0182 ms
2025-06-03 00:51:25.155 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0433 ms
2025-06-03 00:51:25.161 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.4771 ms
2025-06-03 00:51:25.193 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.2311 ms
2025-06-03 00:51:25.201 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0419 ms
2025-06-03 00:51:25.205 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2669 ms
2025-06-03 00:51:25.212 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0362 ms
2025-06-03 00:51:25.216 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.3018 ms
2025-06-03 00:51:25.226 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0534 ms
2025-06-03 00:51:25.228 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0374 ms
2025-06-03 00:51:25.233 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2488 ms
2025-06-03 00:51:25.233 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId d7gG7h6yqHFq59MRvr77oQ
2025-06-03 00:51:25.233 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 2.3488 ms
2025-06-03 00:51:25.245 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:51:25.250 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0407 ms
2025-06-03 00:51:25.251 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:51:25.259 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:51:25.269 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 00:51:44.390 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0378 ms
2025-06-03 00:51:44.396 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 00:51:44.400 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:51:44.409 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:51:44.416 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 21.2373 ms
2025-06-03 00:51:44.497 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0410 ms
2025-06-03 00:51:44.501 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.4036 ms
2025-06-03 00:51:44.674 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1852 ms
2025-06-03 00:51:44.699 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0498 ms
2025-06-03 00:51:44.705 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3551 ms
2025-06-03 00:51:44.802 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.1730 ms
2025-06-03 00:51:44.810 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0267 ms
2025-06-03 00:51:44.814 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.6295 ms
2025-06-03 00:51:44.820 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0258 ms
2025-06-03 00:51:44.823 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.3199 ms
2025-06-03 00:51:44.828 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0241 ms
2025-06-03 00:51:44.829 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0299 ms
2025-06-03 00:51:44.836 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2101 ms
2025-06-03 00:51:44.836 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 2.7724 ms
2025-06-03 00:51:44.836 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId 4MTAGluKEoPI74kJP9e-Tg
2025-06-03 00:51:44.844 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:51:44.845 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0239 ms
2025-06-03 00:51:44.851 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:51:44.859 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:51:44.865 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 00:51:44.865 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 19611.5415 ms
2025-06-03 00:51:44.876 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0299 ms
2025-06-03 00:51:53.874 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0419 ms
2025-06-03 00:51:53.879 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:51:53.881 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:51:53.885 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:51:53.892 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:51:53.896 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 17.7854 ms
2025-06-03 00:51:58.995 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0286 ms
2025-06-03 00:51:59.000 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:51:59.002 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:51:59.006 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:51:59.011 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:51:59.018 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 18.1503 ms
2025-06-03 00:53:03.612 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0346 ms
2025-06-03 00:53:03.625 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:53:03.629 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:53:03.636 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:53:03.644 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:53:03.654 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 28.9694 ms
2025-06-03 00:53:06.369 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:53:06.371 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:53:06.376 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:53:06.383 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:53:06.391 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 22.8861 ms
2025-06-03 00:53:14.866 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90012.8565 ms
2025-06-03 00:53:14.874 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0213 ms
2025-06-03 00:53:14.882 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90001.5583 ms
2025-06-03 00:53:14.892 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0278 ms
2025-06-03 00:54:07.380 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 52501.8615 ms
2025-06-03 00:54:16.364 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 61466.8218 ms
2025-06-03 00:54:23.106 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0217 ms
2025-06-03 00:54:23.110 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 00:54:23.114 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:54:23.123 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:54:23.128 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 18.3843 ms
2025-06-03 00:54:23.198 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0275 ms
2025-06-03 00:54:23.202 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2478 ms
2025-06-03 00:54:23.302 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1094 ms
2025-06-03 00:54:23.315 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0224 ms
2025-06-03 00:54:23.319 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2371 ms
2025-06-03 00:54:23.391 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.1132 ms
2025-06-03 00:54:23.416 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0249 ms
2025-06-03 00:54:23.420 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2738 ms
2025-06-03 00:54:23.426 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0296 ms
2025-06-03 00:54:23.431 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2745 ms
2025-06-03 00:54:23.441 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0199 ms
2025-06-03 00:54:23.441 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0207 ms
2025-06-03 00:54:23.448 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1835 ms
2025-06-03 00:54:23.449 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 2.3707 ms
2025-06-03 00:54:23.449 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId RVTNowN9xWTMpKhjB6pOeQ
2025-06-03 00:54:23.499 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0191 ms
2025-06-03 00:54:23.500 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:54:23.507 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:54:23.514 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:54:23.520 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 00:54:30.170 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Initiating Google login. Return URL (client-side): /
2025-06-03 00:54:30.173 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/login-google responded 302 in 4.0051 ms
2025-06-03 00:54:30.358 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 6856.0809 ms
2025-06-03 00:54:32.812 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /signin-google responded 302 in 363.4945 ms
2025-06-03 00:54:32.820 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Received Google callback.
2025-06-03 00:54:32.821 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Google authentication successful.
2025-06-03 00:54:32.823 +07:00 [INF] (ChatApp.Application.Services.UserService) Finding or creating user from OAuth. Provider: Google, ExternalId: 110932885050862021885, Email: hoangnguyenn268@gmail.com
2025-06-03 00:54:32.828 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__providerName_0='?' (Size = 50), @__externalId_1='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[ProviderName] = @__providerName_0 AND [u].[ExternalId] = @__externalId_1
2025-06-03 00:54:32.831 +07:00 [INF] (ChatApp.Application.Services.UserService) Existing user found by ExternalId 110932885050862021885 for Provider Google. Updating info if changed.
2025-06-03 00:54:32.833 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (hoangnguyenn268@gmail.com) processed from Google callback via UserService.
2025-06-03 00:54:32.834 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) Generating JWT token for User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" - hoangnguyenn268@gmail.com
2025-06-03 00:54:32.836 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) JWT token generated successfully for User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa". Token Expiry: "2025-06-02T18:54:32.8357804Z"
2025-06-03 00:54:32.837 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Redirecting to client with token: http://localhost:4200/auth-callback?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI0NjEzODVmMC1hMjA1LTQ0ZmMtOTIxNS1mYWNmMTlhYmY1ZGQiLCJzdWIiOiIyMWMzMzA5OS1lZTZiLTRlNjItODNhOC1mN2M1MWMwYmU0ZmEiLCJlbWFpbCI6ImhvYW5nbmd1eWVubjI2OEBnbWFpbC5jb20iLCJuYW1lIjoiTmd1ecOqbiBIb8OgbmciLCJ1aWQiOiIyMWMzMzA5OS1lZTZiLTRlNjItODNhOC1mN2M1MWMwYmU0ZmEiLCJhdmF0YXIiOiIiLCJuYmYiOjE3NDg4ODY4NzIsImV4cCI6MTc0ODg5MDQ3MiwiaWF0IjoxNzQ4ODg2ODcyLCJpc3MiOiJDaGF0QXBwQXBpIiwiYXVkIjoiQ2hhdEFwcENsaWVudCJ9.vC1QEd6WK7EL9_wO7SwbeVLFovqxedDz9AhdeE90GIw
2025-06-03 00:54:32.839 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /Auth/google-callback responded 302 in 19.2921 ms
2025-06-03 00:54:33.078 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0260 ms
2025-06-03 00:54:33.083 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 00:54:33.086 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:54:33.091 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:54:33.096 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 13.8158 ms
2025-06-03 00:54:33.135 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0247 ms
2025-06-03 00:54:33.139 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3923 ms
2025-06-03 00:54:33.274 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1751 ms
2025-06-03 00:54:33.293 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 00:54:33.296 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:54:33.301 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:54:33.306 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 13.9181 ms
2025-06-03 00:54:33.323 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0212 ms
2025-06-03 00:54:33.327 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2199 ms
2025-06-03 00:54:33.341 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.0804 ms
2025-06-03 00:54:33.348 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0201 ms
2025-06-03 00:54:33.361 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2359 ms
2025-06-03 00:54:33.402 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0256 ms
2025-06-03 00:54:33.417 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.4610 ms
2025-06-03 00:54:33.427 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0230 ms
2025-06-03 00:54:33.427 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0232 ms
2025-06-03 00:54:33.435 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2270 ms
2025-06-03 00:54:33.435 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 2.7475 ms
2025-06-03 00:54:33.435 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId BHyH8GWpBpt3igZbibB0FA
2025-06-03 00:54:33.444 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0261 ms
2025-06-03 00:54:33.444 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:54:33.452 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:54:33.455 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:54:33.460 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 00:55:13.121 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 39672.1343 ms
2025-06-03 00:55:13.260 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0244 ms
2025-06-03 00:55:13.266 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 00:55:13.273 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:55:13.290 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:55:13.300 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 34.0170 ms
2025-06-03 00:55:13.377 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0208 ms
2025-06-03 00:55:13.381 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2188 ms
2025-06-03 00:55:13.839 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1175 ms
2025-06-03 00:55:13.956 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0323 ms
2025-06-03 00:55:13.961 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2443 ms
2025-06-03 00:55:13.970 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.1469 ms
2025-06-03 00:55:13.979 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0285 ms
2025-06-03 00:55:13.985 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.5457 ms
2025-06-03 00:55:13.993 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0213 ms
2025-06-03 00:55:14.000 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.5306 ms
2025-06-03 00:55:14.010 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0317 ms
2025-06-03 00:55:14.013 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0372 ms
2025-06-03 00:55:14.022 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.4527 ms
2025-06-03 00:55:14.023 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 6.7593 ms
2025-06-03 00:55:14.023 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId 70aygQ4vOXLnupLZTajhoQ
2025-06-03 00:55:14.047 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0571 ms
2025-06-03 00:55:14.050 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:55:14.064 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:55:14.077 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:55:14.094 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 00:55:24.269 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 10215.4328 ms
2025-06-03 00:55:31.105 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.1020 ms
2025-06-03 00:55:31.109 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 00:55:31.111 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 00:55:31.117 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:55:31.121 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 12.9208 ms
2025-06-03 00:55:31.162 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0218 ms
2025-06-03 00:55:31.167 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.1898 ms
2025-06-03 00:55:31.309 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.0924 ms
2025-06-03 00:55:31.327 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0374 ms
2025-06-03 00:55:31.332 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2117 ms
2025-06-03 00:55:31.395 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.1416 ms
2025-06-03 00:55:31.403 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0335 ms
2025-06-03 00:55:31.406 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.1753 ms
2025-06-03 00:55:31.413 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0195 ms
2025-06-03 00:55:31.416 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2242 ms
2025-06-03 00:55:31.421 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0231 ms
2025-06-03 00:55:31.422 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0157 ms
2025-06-03 00:55:31.428 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1760 ms
2025-06-03 00:55:31.428 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 2.2924 ms
2025-06-03 00:55:31.428 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId SUc6YKheZVH1LuuxOz7sQA
2025-06-03 00:55:31.435 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 00:55:31.435 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0182 ms
2025-06-03 00:55:31.441 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 00:55:31.447 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 00:55:31.452 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 00:57:01.457 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90013.7297 ms
2025-06-03 00:57:01.474 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0308 ms
2025-06-03 00:57:11.552 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0365 ms
2025-06-03 00:57:11.558 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 00:57:11.560 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 00:57:11.566 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 00:57:11.574 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:57:11.578 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 20.5571 ms
2025-06-03 00:58:31.481 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90002.0108 ms
2025-06-03 00:58:31.489 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0557 ms
2025-06-03 01:00:01.500 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90007.0782 ms
2025-06-03 01:00:01.508 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0346 ms
2025-06-03 01:01:31.524 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90009.7181 ms
2025-06-03 01:01:31.531 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0233 ms
2025-06-03 01:01:44.090 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 12555.4510 ms
2025-06-03 01:01:44.309 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0275 ms
2025-06-03 01:01:44.315 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 01:01:44.324 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 01:01:44.333 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:01:44.337 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 22.1067 ms
2025-06-03 01:01:44.370 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0327 ms
2025-06-03 01:01:44.373 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.1913 ms
2025-06-03 01:01:44.615 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.0822 ms
2025-06-03 01:01:44.627 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0339 ms
2025-06-03 01:01:44.638 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2686 ms
2025-06-03 01:01:44.682 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.0878 ms
2025-06-03 01:01:44.689 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0243 ms
2025-06-03 01:01:44.692 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.1669 ms
2025-06-03 01:01:44.697 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0190 ms
2025-06-03 01:01:44.700 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2275 ms
2025-06-03 01:01:44.707 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0221 ms
2025-06-03 01:01:44.707 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0148 ms
2025-06-03 01:01:44.712 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1621 ms
2025-06-03 01:01:44.713 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 2.6837 ms
2025-06-03 01:01:44.713 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId QnTYZYm9WJWfw41eHMwsiA
2025-06-03 01:01:44.726 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0240 ms
2025-06-03 01:01:44.726 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 01:01:44.735 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:01:44.743 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 01:01:44.749 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 01:03:14.735 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90005.5242 ms
2025-06-03 01:03:14.742 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0225 ms
2025-06-03 01:04:44.757 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90010.3267 ms
2025-06-03 01:04:44.767 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0203 ms
2025-06-03 01:06:14.776 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90005.6321 ms
2025-06-03 01:06:14.784 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0298 ms
2025-06-03 01:07:44.799 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90011.5533 ms
2025-06-03 01:07:44.807 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0266 ms
2025-06-03 01:09:14.822 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90011.4962 ms
2025-06-03 01:09:14.831 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0327 ms
2025-06-03 01:09:15.440 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 604.1977 ms
2025-06-03 01:09:19.014 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0307 ms
2025-06-03 01:09:19.019 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 01:09:19.077 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 01:09:19.085 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:09:19.090 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 71.8460 ms
2025-06-03 01:09:19.236 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0216 ms
2025-06-03 01:09:19.240 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2243 ms
2025-06-03 01:09:19.284 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1286 ms
2025-06-03 01:09:19.309 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0301 ms
2025-06-03 01:09:19.332 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3467 ms
2025-06-03 01:09:19.402 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.0983 ms
2025-06-03 01:09:19.413 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0260 ms
2025-06-03 01:09:19.418 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2021 ms
2025-06-03 01:09:19.427 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0215 ms
2025-06-03 01:09:19.434 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2416 ms
2025-06-03 01:09:19.446 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0232 ms
2025-06-03 01:09:19.446 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0222 ms
2025-06-03 01:09:19.457 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2014 ms
2025-06-03 01:09:19.458 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId eSO8DJ_dGlG0dKOg34-Pxw
2025-06-03 01:09:19.457 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 4.7991 ms
2025-06-03 01:09:19.473 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 01:09:19.480 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0218 ms
2025-06-03 01:09:19.486 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:09:19.497 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 01:09:19.503 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 01:09:21.610 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0347 ms
2025-06-03 01:09:21.615 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:09:21.618 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 01:09:21.633 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (12ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:09:21.642 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:09:21.647 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 31.6738 ms
2025-06-03 01:10:44.120 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 84630.8394 ms
2025-06-03 01:10:44.250 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0289 ms
2025-06-03 01:10:44.255 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 01:10:44.260 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 01:10:44.269 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:10:44.274 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 20.0662 ms
2025-06-03 01:10:44.385 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0218 ms
2025-06-03 01:10:44.390 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2081 ms
2025-06-03 01:10:44.580 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.0790 ms
2025-06-03 01:10:44.621 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0320 ms
2025-06-03 01:10:44.626 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:10:44.628 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 01:10:44.633 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0189 ms
2025-06-03 01:10:44.633 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:10:44.636 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2762 ms
2025-06-03 01:10:44.645 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:10:44.649 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.0780 ms
2025-06-03 01:10:44.650 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 24.1303 ms
2025-06-03 01:10:44.657 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0291 ms
2025-06-03 01:10:44.661 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2681 ms
2025-06-03 01:10:44.672 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0278 ms
2025-06-03 01:10:44.676 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2929 ms
2025-06-03 01:10:44.683 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0542 ms
2025-06-03 01:10:44.686 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0214 ms
2025-06-03 01:10:44.691 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1843 ms
2025-06-03 01:10:44.691 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 2.8447 ms
2025-06-03 01:10:44.691 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId 8asyKudtPOosXLqHSMN90A
2025-06-03 01:10:44.707 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 01:10:44.708 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0328 ms
2025-06-03 01:10:44.713 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:10:44.729 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 01:10:44.744 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 01:11:01.112 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0227 ms
2025-06-03 01:11:01.118 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:11:01.119 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 01:11:01.122 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:11:01.127 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:11:01.131 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 14.0170 ms
2025-06-03 01:11:24.870 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 40152.5094 ms
2025-06-03 01:16:39.827 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.1267 ms
2025-06-03 01:16:39.847 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "21c33099-ee6b-4e62-83a8-f7c51c0be4fa"
2025-06-03 01:16:39.905 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 01:16:39.911 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:16:39.914 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 67.6207 ms
2025-06-03 01:16:40.037 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0208 ms
2025-06-03 01:16:40.045 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.5203 ms
2025-06-03 01:16:40.067 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1291 ms
2025-06-03 01:16:40.078 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0213 ms
2025-06-03 01:16:40.085 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2311 ms
2025-06-03 01:16:40.127 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0376 ms
2025-06-03 01:16:40.132 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:16:40.134 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 01:16:40.139 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:16:40.141 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.0830 ms
2025-06-03 01:16:40.144 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:16:40.149 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 18.0441 ms
2025-06-03 01:16:40.151 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0228 ms
2025-06-03 01:16:40.161 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2536 ms
2025-06-03 01:16:40.170 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0344 ms
2025-06-03 01:16:40.175 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.4492 ms
2025-06-03 01:16:40.183 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0339 ms
2025-06-03 01:16:40.184 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0350 ms
2025-06-03 01:16:40.190 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2084 ms
2025-06-03 01:16:40.191 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connected with ConnectionId YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:16:40.191 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 3.4962 ms
2025-06-03 01:16:40.203 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 01:16:40.208 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0265 ms
2025-06-03 01:16:40.210 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:16:40.219 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 01:16:40.223 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" is online
2025-06-03 01:16:43.017 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/private-messages/b5c30aa1-172a-4bd6-9579-d3d36c55ca68 responded 204 in 0.0599 ms
2025-06-03 01:16:43.021 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/private-messages/b5c30aa1-172a-4bd6-9579-d3d36c55ca68 responded 404 in 0.3248 ms
2025-06-03 01:16:53.005 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0188 ms
2025-06-03 01:16:53.011 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1446 ms
2025-06-03 01:16:53.019 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" sending private message to "b5c30aa1-172a-4bd6-9579-d3d36c55ca68": 'Hi'
2025-06-03 01:16:53.025 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:16:53.054 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:16:53.066 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:16:53.069 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "be9dcb68-2ad2-4ddb-8f08-cfcfd5ede308" to Receiver "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connections: FDHlpDXFD88OQ97O2uBBJg, jBgosUqnogJwMNysyFpMWA, MwSjoo_MQ901RlAVkJ7i3A, VNwLy1KX_rfaXGAuKkoPIQ
2025-06-03 01:16:53.072 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "be9dcb68-2ad2-4ddb-8f08-cfcfd5ede308" back to Sender "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (Connection: YrD5vAwN_7UGRmvpnH6QdQ)
2025-06-03 01:16:53.078 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 12866.0162 ms
2025-06-03 01:16:53.084 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0191 ms
2025-06-03 01:16:53.088 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1820 ms
2025-06-03 01:16:53.095 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0194 ms
2025-06-03 01:17:02.687 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Initiating Google login. Return URL (client-side): /
2025-06-03 01:17:02.688 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/login-google responded 302 in 1.7465 ms
2025-06-03 01:17:15.512 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /signin-google responded 302 in 355.5440 ms
2025-06-03 01:17:15.519 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Received Google callback.
2025-06-03 01:17:15.520 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Google authentication successful.
2025-06-03 01:17:15.520 +07:00 [INF] (ChatApp.Application.Services.UserService) Finding or creating user from OAuth. Provider: Google, ExternalId: 108767110743796812723, Email: hoangnguyennstorage@gmail.com
2025-06-03 01:17:15.525 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__providerName_0='?' (Size = 50), @__externalId_1='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[ProviderName] = @__providerName_0 AND [u].[ExternalId] = @__externalId_1
2025-06-03 01:17:15.529 +07:00 [INF] (ChatApp.Application.Services.UserService) Existing user found by ExternalId 108767110743796812723 for Provider Google. Updating info if changed.
2025-06-03 01:17:15.531 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (hoangnguyennstorage@gmail.com) processed from Google callback via UserService.
2025-06-03 01:17:15.532 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) Generating JWT token for User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" - hoangnguyennstorage@gmail.com
2025-06-03 01:17:15.533 +07:00 [INF] (ChatApp.Infrastructure.Services.TokenService) JWT token generated successfully for User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68". Token Expiry: "2025-06-02T19:17:15.5337341Z"
2025-06-03 01:17:15.535 +07:00 [INF] (ChatApp.Api.Controllers.AuthController) Redirecting to client with token: http://localhost:4200/auth-callback?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI2MjAwN2ZlMC1jNzJkLTRlZDUtYmU5OS1jMGRhY2Q0MTE0MWEiLCJzdWIiOiJiNWMzMGFhMS0xNzJhLTRiZDYtOTU3OS1kM2QzNmM1NWNhNjgiLCJlbWFpbCI6ImhvYW5nbmd1eWVubnN0b3JhZ2VAZ21haWwuY29tIiwibmFtZSI6IkhvYW5nIE5ndXllbiIsInVpZCI6ImI1YzMwYWExLTE3MmEtNGJkNi05NTc5LWQzZDM2YzU1Y2E2OCIsImF2YXRhciI6IiIsIm5iZiI6MTc0ODg4ODIzNSwiZXhwIjoxNzQ4ODkxODM1LCJpYXQiOjE3NDg4ODgyMzUsImlzcyI6IkNoYXRBcHBBcGkiLCJhdWQiOiJDaGF0QXBwQ2xpZW50In0.8kzLOzq1mZijK9Ce6PC4Yv5E3zmzXLkBoVut2UKcTXc
2025-06-03 01:17:15.536 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /Auth/google-callback responded 302 in 17.7754 ms
2025-06-03 01:17:15.756 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0244 ms
2025-06-03 01:17:15.761 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "b5c30aa1-172a-4bd6-9579-d3d36c55ca68"
2025-06-03 01:17:15.763 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 01:17:15.768 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:17:15.772 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 11.7642 ms
2025-06-03 01:17:15.780 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0310 ms
2025-06-03 01:17:15.788 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2058 ms
2025-06-03 01:17:15.794 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1465 ms
2025-06-03 01:17:15.799 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0238 ms
2025-06-03 01:17:15.803 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.1748 ms
2025-06-03 01:17:15.809 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.0814 ms
2025-06-03 01:17:15.840 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0270 ms
2025-06-03 01:17:15.844 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:17:15.846 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 01:17:15.850 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:17:15.855 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:17:15.859 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 14.9990 ms
2025-06-03 01:17:15.867 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0260 ms
2025-06-03 01:17:15.871 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.1762 ms
2025-06-03 01:17:15.881 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0322 ms
2025-06-03 01:17:15.887 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.4115 ms
2025-06-03 01:17:15.897 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0346 ms
2025-06-03 01:17:15.899 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0434 ms
2025-06-03 01:17:15.906 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2346 ms
2025-06-03 01:17:15.906 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 3.2426 ms
2025-06-03 01:17:15.906 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connected with ConnectionId j8Xg2opuqBO4KKektb0kDA
2025-06-03 01:17:15.927 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0275 ms
2025-06-03 01:17:15.928 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 01:17:15.939 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:17:15.946 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 01:17:15.950 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" is online
2025-06-03 01:17:15.950 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 22851.3361 ms
2025-06-03 01:17:15.956 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0241 ms
2025-06-03 01:17:17.241 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 204 in 0.0179 ms
2025-06-03 01:17:17.247 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 404 in 0.1591 ms
2025-06-03 01:17:23.909 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0235 ms
2025-06-03 01:17:23.914 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2231 ms
2025-06-03 01:17:23.914 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'hi'
2025-06-03 01:17:23.920 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:17:23.926 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:17:23.930 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:17:23.933 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "2bb40b1e-e144-47b6-ab6a-989236efcf53" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:17:23.936 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "2bb40b1e-e144-47b6-ab6a-989236efcf53" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:17:23.936 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 7976.6741 ms
2025-06-03 01:17:23.938 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 8006.3400 ms
2025-06-03 01:17:23.943 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0186 ms
2025-06-03 01:17:23.945 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0235 ms
2025-06-03 01:17:23.949 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1423 ms
2025-06-03 01:17:23.953 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0254 ms
2025-06-03 01:17:33.021 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0232 ms
2025-06-03 01:17:33.026 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2288 ms
2025-06-03 01:17:33.026 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" sending private message to "b5c30aa1-172a-4bd6-9579-d3d36c55ca68": 'how r u doing'
2025-06-03 01:17:33.031 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:17:33.035 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:17:33.039 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:17:33.041 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "7dd56e98-85ae-4397-a879-341c13bfc424" to Receiver "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connections: FDHlpDXFD88OQ97O2uBBJg, j8Xg2opuqBO4KKektb0kDA, jBgosUqnogJwMNysyFpMWA, MwSjoo_MQ901RlAVkJ7i3A, VNwLy1KX_rfaXGAuKkoPIQ
2025-06-03 01:17:33.044 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "7dd56e98-85ae-4397-a879-341c13bfc424" back to Sender "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (Connection: YrD5vAwN_7UGRmvpnH6QdQ)
2025-06-03 01:17:33.044 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 9087.6444 ms
2025-06-03 01:17:33.046 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 9099.5919 ms
2025-06-03 01:17:33.050 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0224 ms
2025-06-03 01:17:33.053 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0206 ms
2025-06-03 01:17:33.057 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1479 ms
2025-06-03 01:17:33.062 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0181 ms
2025-06-03 01:17:40.189 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0211 ms
2025-06-03 01:17:40.193 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.3201 ms
2025-06-03 01:17:40.193 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'I'm good'
2025-06-03 01:17:40.199 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:17:40.203 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:17:40.207 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:17:40.209 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "56a14f73-73a3-4498-a6d3-1126d81e1d8d" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:17:40.211 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "56a14f73-73a3-4498-a6d3-1126d81e1d8d" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:17:40.211 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 7145.9865 ms
2025-06-03 01:17:40.213 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 7159.3631 ms
2025-06-03 01:17:40.218 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0232 ms
2025-06-03 01:17:40.220 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0205 ms
2025-06-03 01:17:40.224 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1713 ms
2025-06-03 01:17:40.228 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0210 ms
2025-06-03 01:17:42.025 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0211 ms
2025-06-03 01:17:42.029 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1412 ms
2025-06-03 01:17:42.030 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'a'
2025-06-03 01:17:42.034 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:17:42.038 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:17:42.041 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:17:42.044 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "c76f6c44-b391-4f94-9706-1a6e2c100fcb" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:17:42.046 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "c76f6c44-b391-4f94-9706-1a6e2c100fcb" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:17:42.046 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 1824.0409 ms
2025-06-03 01:17:42.049 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 1817.3784 ms
2025-06-03 01:17:42.054 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0235 ms
2025-06-03 01:17:42.056 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0225 ms
2025-06-03 01:17:42.060 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1462 ms
2025-06-03 01:17:42.064 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0193 ms
2025-06-03 01:17:42.555 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0362 ms
2025-06-03 01:17:42.559 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1455 ms
2025-06-03 01:17:42.559 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'a'
2025-06-03 01:17:42.564 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:17:42.568 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:17:42.571 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:17:42.574 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "5baf8647-2be0-4829-9de2-d2b630cfe99b" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:17:42.576 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "5baf8647-2be0-4829-9de2-d2b630cfe99b" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:17:42.576 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 517.9179 ms
2025-06-03 01:17:42.578 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 511.4701 ms
2025-06-03 01:17:42.584 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0234 ms
2025-06-03 01:17:42.586 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0325 ms
2025-06-03 01:17:42.590 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1618 ms
2025-06-03 01:17:42.594 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0182 ms
2025-06-03 01:17:42.834 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0210 ms
2025-06-03 01:17:42.838 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2252 ms
2025-06-03 01:17:42.838 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'a'
2025-06-03 01:17:42.845 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:17:42.849 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:17:42.853 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:17:42.857 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "3e71920a-e442-4fbb-959e-9dbb736b2366" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:17:42.860 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "3e71920a-e442-4fbb-959e-9dbb736b2366" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:17:42.860 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 272.0493 ms
2025-06-03 01:17:42.862 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 265.1337 ms
2025-06-03 01:17:42.867 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0315 ms
2025-06-03 01:17:42.869 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0226 ms
2025-06-03 01:17:42.873 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1643 ms
2025-06-03 01:17:42.877 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0223 ms
2025-06-03 01:17:50.260 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0205 ms
2025-06-03 01:17:50.265 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1576 ms
2025-06-03 01:17:50.265 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" sending private message to "b5c30aa1-172a-4bd6-9579-d3d36c55ca68": 'x'
2025-06-03 01:17:50.271 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:17:50.276 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:17:50.279 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:17:50.284 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "825d131c-73ea-4e66-b6b3-0622be8d8a47" to Receiver "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connections: FDHlpDXFD88OQ97O2uBBJg, j8Xg2opuqBO4KKektb0kDA, jBgosUqnogJwMNysyFpMWA, MwSjoo_MQ901RlAVkJ7i3A, VNwLy1KX_rfaXGAuKkoPIQ
2025-06-03 01:17:50.286 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "825d131c-73ea-4e66-b6b3-0622be8d8a47" back to Sender "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (Connection: YrD5vAwN_7UGRmvpnH6QdQ)
2025-06-03 01:17:50.287 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 7406.7991 ms
2025-06-03 01:17:50.289 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 7418.1558 ms
2025-06-03 01:17:50.293 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0206 ms
2025-06-03 01:17:50.297 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0295 ms
2025-06-03 01:17:50.302 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1442 ms
2025-06-03 01:17:50.306 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0334 ms
2025-06-03 01:17:51.489 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0218 ms
2025-06-03 01:17:51.494 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1443 ms
2025-06-03 01:17:51.494 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" sending private message to "b5c30aa1-172a-4bd6-9579-d3d36c55ca68": 'x'
2025-06-03 01:17:51.499 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:17:51.503 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:17:51.507 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:17:51.512 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "bf0db7fc-1a80-4801-a761-8895152dd0e4" to Receiver "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connections: FDHlpDXFD88OQ97O2uBBJg, j8Xg2opuqBO4KKektb0kDA, jBgosUqnogJwMNysyFpMWA, MwSjoo_MQ901RlAVkJ7i3A, VNwLy1KX_rfaXGAuKkoPIQ
2025-06-03 01:17:51.514 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "bf0db7fc-1a80-4801-a761-8895152dd0e4" back to Sender "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (Connection: YrD5vAwN_7UGRmvpnH6QdQ)
2025-06-03 01:17:51.514 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 1216.0128 ms
2025-06-03 01:17:51.516 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 1207.4968 ms
2025-06-03 01:17:51.520 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0206 ms
2025-06-03 01:17:51.524 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0191 ms
2025-06-03 01:17:51.529 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1448 ms
2025-06-03 01:17:51.534 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0182 ms
2025-06-03 01:17:56.461 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0218 ms
2025-06-03 01:17:56.466 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:17:56.468 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "21c33099-ee6b-4e62-83a8-f7c51c0be4fa", Search: None, Page: 1
2025-06-03 01:17:56.475 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:17:56.480 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:17:56.483 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 17.8964 ms
2025-06-03 01:18:00.650 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0199 ms
2025-06-03 01:18:00.654 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1595 ms
2025-06-03 01:18:00.654 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" sending private message to "b5c30aa1-172a-4bd6-9579-d3d36c55ca68": 't'
2025-06-03 01:18:00.660 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:18:00.667 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:18:00.672 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:18:00.675 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "6ccc11af-85d3-47c6-a6c5-939502e01d44" to Receiver "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connections: FDHlpDXFD88OQ97O2uBBJg, j8Xg2opuqBO4KKektb0kDA, jBgosUqnogJwMNysyFpMWA, MwSjoo_MQ901RlAVkJ7i3A, VNwLy1KX_rfaXGAuKkoPIQ
2025-06-03 01:18:00.677 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "6ccc11af-85d3-47c6-a6c5-939502e01d44" back to Sender "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (Connection: YrD5vAwN_7UGRmvpnH6QdQ)
2025-06-03 01:18:00.677 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 9152.3525 ms
2025-06-03 01:18:00.682 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 9144.8280 ms
2025-06-03 01:18:00.686 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0208 ms
2025-06-03 01:18:00.690 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0212 ms
2025-06-03 01:18:00.694 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1504 ms
2025-06-03 01:18:00.700 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0181 ms
2025-06-03 01:18:00.856 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0217 ms
2025-06-03 01:18:00.861 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1768 ms
2025-06-03 01:18:00.861 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" sending private message to "b5c30aa1-172a-4bd6-9579-d3d36c55ca68": 't'
2025-06-03 01:18:00.867 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:18:00.872 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:18:00.876 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:18:00.881 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "427834b2-227d-4ee8-8591-d9061ef8bb00" to Receiver "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connections: FDHlpDXFD88OQ97O2uBBJg, j8Xg2opuqBO4KKektb0kDA, jBgosUqnogJwMNysyFpMWA, MwSjoo_MQ901RlAVkJ7i3A, VNwLy1KX_rfaXGAuKkoPIQ
2025-06-03 01:18:00.884 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "427834b2-227d-4ee8-8591-d9061ef8bb00" back to Sender "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (Connection: YrD5vAwN_7UGRmvpnH6QdQ)
2025-06-03 01:18:00.884 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 193.3453 ms
2025-06-03 01:18:00.887 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 183.0264 ms
2025-06-03 01:18:00.891 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0203 ms
2025-06-03 01:18:00.894 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0271 ms
2025-06-03 01:18:00.899 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1407 ms
2025-06-03 01:18:00.904 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0191 ms
2025-06-03 01:18:01.152 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0309 ms
2025-06-03 01:18:01.156 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1424 ms
2025-06-03 01:18:01.156 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" sending private message to "b5c30aa1-172a-4bd6-9579-d3d36c55ca68": 't'
2025-06-03 01:18:01.162 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:18:01.166 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:18:01.170 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:18:01.173 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "7d2e68eb-ca9c-45dc-83ea-b9ebabf119bb" to Receiver "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connections: FDHlpDXFD88OQ97O2uBBJg, j8Xg2opuqBO4KKektb0kDA, jBgosUqnogJwMNysyFpMWA, MwSjoo_MQ901RlAVkJ7i3A, VNwLy1KX_rfaXGAuKkoPIQ
2025-06-03 01:18:01.175 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "7d2e68eb-ca9c-45dc-83ea-b9ebabf119bb" back to Sender "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (Connection: YrD5vAwN_7UGRmvpnH6QdQ)
2025-06-03 01:18:01.175 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 279.8589 ms
2025-06-03 01:18:01.180 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 272.7122 ms
2025-06-03 01:18:01.184 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0213 ms
2025-06-03 01:18:01.187 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0261 ms
2025-06-03 01:18:01.191 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2056 ms
2025-06-03 01:18:01.198 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0224 ms
2025-06-03 01:18:01.241 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0210 ms
2025-06-03 01:18:01.244 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1618 ms
2025-06-03 01:18:01.244 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" sending private message to "b5c30aa1-172a-4bd6-9579-d3d36c55ca68": 't'
2025-06-03 01:18:01.250 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:18:01.254 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:18:01.260 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:18:01.262 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "69d0af66-081a-4789-9307-4428ead37d52" to Receiver "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connections: FDHlpDXFD88OQ97O2uBBJg, j8Xg2opuqBO4KKektb0kDA, jBgosUqnogJwMNysyFpMWA, MwSjoo_MQ901RlAVkJ7i3A, VNwLy1KX_rfaXGAuKkoPIQ
2025-06-03 01:18:01.264 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "69d0af66-081a-4789-9307-4428ead37d52" back to Sender "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (Connection: YrD5vAwN_7UGRmvpnH6QdQ)
2025-06-03 01:18:01.264 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 76.1842 ms
2025-06-03 01:18:01.267 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 65.2164 ms
2025-06-03 01:18:01.271 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0196 ms
2025-06-03 01:18:01.275 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0183 ms
2025-06-03 01:18:01.279 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2105 ms
2025-06-03 01:18:01.284 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0178 ms
2025-06-03 01:18:01.402 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0233 ms
2025-06-03 01:18:01.406 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1461 ms
2025-06-03 01:18:01.406 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" sending private message to "b5c30aa1-172a-4bd6-9579-d3d36c55ca68": 't'
2025-06-03 01:18:01.412 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:18:01.416 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:18:01.421 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:18:01.424 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "f299109d-1b80-4e67-a637-fe89178f81bf" to Receiver "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connections: FDHlpDXFD88OQ97O2uBBJg, j8Xg2opuqBO4KKektb0kDA, jBgosUqnogJwMNysyFpMWA, MwSjoo_MQ901RlAVkJ7i3A, VNwLy1KX_rfaXGAuKkoPIQ
2025-06-03 01:18:01.430 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "f299109d-1b80-4e67-a637-fe89178f81bf" back to Sender "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (Connection: YrD5vAwN_7UGRmvpnH6QdQ)
2025-06-03 01:18:01.430 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 153.2144 ms
2025-06-03 01:18:01.432 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 145.5937 ms
2025-06-03 01:18:01.438 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0266 ms
2025-06-03 01:18:01.445 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0403 ms
2025-06-03 01:18:01.449 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1454 ms
2025-06-03 01:18:01.453 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0212 ms
2025-06-03 01:18:01.651 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0209 ms
2025-06-03 01:18:01.655 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1336 ms
2025-06-03 01:18:01.655 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" sending private message to "b5c30aa1-172a-4bd6-9579-d3d36c55ca68": 't'
2025-06-03 01:18:01.660 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:18:01.665 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:18:01.668 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:18:01.671 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "41ce4ab3-bff9-4dcc-9868-cd244eb071fc" to Receiver "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connections: FDHlpDXFD88OQ97O2uBBJg, j8Xg2opuqBO4KKektb0kDA, jBgosUqnogJwMNysyFpMWA, MwSjoo_MQ901RlAVkJ7i3A, VNwLy1KX_rfaXGAuKkoPIQ
2025-06-03 01:18:01.673 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "41ce4ab3-bff9-4dcc-9868-cd244eb071fc" back to Sender "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (Connection: YrD5vAwN_7UGRmvpnH6QdQ)
2025-06-03 01:18:01.673 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 227.7152 ms
2025-06-03 01:18:01.678 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 221.3055 ms
2025-06-03 01:18:01.682 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0205 ms
2025-06-03 01:18:01.685 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0215 ms
2025-06-03 01:18:01.690 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1805 ms
2025-06-03 01:18:01.694 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0177 ms
2025-06-03 01:18:01.767 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0213 ms
2025-06-03 01:18:01.772 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1529 ms
2025-06-03 01:18:01.772 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" sending private message to "b5c30aa1-172a-4bd6-9579-d3d36c55ca68": 't'
2025-06-03 01:18:01.778 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:18:01.782 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:18:01.787 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:18:01.790 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "aae651ed-af7e-4fb4-87fe-599888db72bf" to Receiver "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connections: FDHlpDXFD88OQ97O2uBBJg, j8Xg2opuqBO4KKektb0kDA, jBgosUqnogJwMNysyFpMWA, MwSjoo_MQ901RlAVkJ7i3A, VNwLy1KX_rfaXGAuKkoPIQ
2025-06-03 01:18:01.791 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "aae651ed-af7e-4fb4-87fe-599888db72bf" back to Sender "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (Connection: YrD5vAwN_7UGRmvpnH6QdQ)
2025-06-03 01:18:01.792 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 105.1546 ms
2025-06-03 01:18:01.794 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 96.0984 ms
2025-06-03 01:18:01.799 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0189 ms
2025-06-03 01:18:01.803 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0369 ms
2025-06-03 01:18:01.808 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1440 ms
2025-06-03 01:18:01.812 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0183 ms
2025-06-03 01:18:48.838 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0445 ms
2025-06-03 01:18:48.843 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:18:48.845 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 01:18:48.851 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:18:48.860 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:18:48.864 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 20.8411 ms
2025-06-03 01:18:52.858 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0208 ms
2025-06-03 01:18:52.862 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2387 ms
2025-06-03 01:18:52.862 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'd'
2025-06-03 01:18:52.868 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:18:52.879 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:18:52.885 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:18:52.888 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "657b276d-494f-4cbd-bc96-3cadb9fd600e" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:18:52.893 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "657b276d-494f-4cbd-bc96-3cadb9fd600e" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:18:52.893 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 51077.6168 ms
2025-06-03 01:18:52.896 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 51091.2117 ms
2025-06-03 01:18:52.903 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0452 ms
2025-06-03 01:18:52.904 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0260 ms
2025-06-03 01:18:52.912 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1576 ms
2025-06-03 01:18:52.916 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0229 ms
2025-06-03 01:19:03.081 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0348 ms
2025-06-03 01:19:03.086 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.3167 ms
2025-06-03 01:19:03.086 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" sending private message to "b5c30aa1-172a-4bd6-9579-d3d36c55ca68": 'what's your name?'
2025-06-03 01:19:03.094 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:19:03.102 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:19:03.108 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:19:03.114 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "c5d25bb4-635c-4222-8007-7c6dfe000bdf" to Receiver "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connections: FDHlpDXFD88OQ97O2uBBJg, j8Xg2opuqBO4KKektb0kDA, jBgosUqnogJwMNysyFpMWA, MwSjoo_MQ901RlAVkJ7i3A, VNwLy1KX_rfaXGAuKkoPIQ
2025-06-03 01:19:03.116 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "c5d25bb4-635c-4222-8007-7c6dfe000bdf" back to Sender "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" (Connection: YrD5vAwN_7UGRmvpnH6QdQ)
2025-06-03 01:19:03.116 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 10196.1352 ms
2025-06-03 01:19:03.119 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 10209.3457 ms
2025-06-03 01:19:03.122 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0203 ms
2025-06-03 01:19:03.126 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0286 ms
2025-06-03 01:19:03.131 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1622 ms
2025-06-03 01:19:03.136 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0192 ms
2025-06-03 01:19:08.714 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0271 ms
2025-06-03 01:19:08.718 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1228 ms
2025-06-03 01:19:08.718 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'My name is Nguyen'
2025-06-03 01:19:08.724 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:19:08.728 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:19:08.732 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:19:08.735 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "3c264e80-8903-4a9e-8f02-10c8ddb36fcf" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:19:08.742 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "3c264e80-8903-4a9e-8f02-10c8ddb36fcf" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:19:08.742 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 5600.8724 ms
2025-06-03 01:19:08.745 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 5617.2676 ms
2025-06-03 01:19:08.749 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0215 ms
2025-06-03 01:19:08.751 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0225 ms
2025-06-03 01:19:08.756 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1383 ms
2025-06-03 01:19:08.760 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0212 ms
2025-06-03 01:19:13.744 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0294 ms
2025-06-03 01:19:13.748 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1417 ms
2025-06-03 01:19:13.748 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": '/ai he'
2025-06-03 01:19:13.756 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:19:13.762 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:19:13.770 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:19:13.775 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "44a2adb4-a624-4242-96b4-d49ebbedae8f" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:19:13.779 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "44a2adb4-a624-4242-96b4-d49ebbedae8f" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:19:13.779 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 5025.9660 ms
2025-06-03 01:19:13.782 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 5018.8026 ms
2025-06-03 01:19:13.788 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0207 ms
2025-06-03 01:19:13.790 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0205 ms
2025-06-03 01:19:13.794 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1532 ms
2025-06-03 01:19:13.799 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0313 ms
2025-06-03 01:19:28.331 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 14538.9994 ms
2025-06-03 01:20:11.755 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0247 ms
2025-06-03 01:20:11.761 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1482 ms
2025-06-03 01:20:11.761 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:20:11.768 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:20:11.774 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:20:11.779 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:20:11.784 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "bc514523-ce94-4cfc-a3ec-1eddbd3919a5" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:20:11.788 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "bc514523-ce94-4cfc-a3ec-1eddbd3919a5" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:20:11.791 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 57988.2268 ms
2025-06-03 01:20:11.797 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0291 ms
2025-06-03 01:20:11.804 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1962 ms
2025-06-03 01:20:11.808 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0244 ms
2025-06-03 01:20:11.967 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0208 ms
2025-06-03 01:20:11.970 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1274 ms
2025-06-03 01:20:11.971 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:20:11.976 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:20:11.980 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:20:11.986 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:20:11.989 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "2731c4f7-543b-4847-b7a9-6d0f8ffc3bde" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:20:11.991 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "2731c4f7-543b-4847-b7a9-6d0f8ffc3bde" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:20:11.994 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 181.7974 ms
2025-06-03 01:20:11.998 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0229 ms
2025-06-03 01:20:12.002 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1450 ms
2025-06-03 01:20:12.006 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0200 ms
2025-06-03 01:21:32.094 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 204 in 0.0465 ms
2025-06-03 01:21:32.098 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 404 in 0.1805 ms
2025-06-03 01:21:37.265 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 204 in 0.0182 ms
2025-06-03 01:21:37.269 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 404 in 0.0943 ms
2025-06-03 01:21:42.027 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90016.6007 ms
2025-06-03 01:21:42.033 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0214 ms
2025-06-03 01:21:42.127 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 404 in 0.1123 ms
2025-06-03 01:21:46.353 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0200 ms
2025-06-03 01:21:46.357 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1209 ms
2025-06-03 01:21:46.357 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:46.365 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:46.371 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:46.376 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:46.379 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "4c1f5479-8683-496a-840b-18b60a450d95" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:46.384 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "4c1f5479-8683-496a-840b-18b60a450d95" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:46.386 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 4349.2233 ms
2025-06-03 01:21:46.390 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0196 ms
2025-06-03 01:21:46.393 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1472 ms
2025-06-03 01:21:46.398 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0225 ms
2025-06-03 01:21:46.564 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0272 ms
2025-06-03 01:21:46.569 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1445 ms
2025-06-03 01:21:46.569 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:46.575 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:46.580 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:46.584 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:46.587 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "27077dc4-172a-4950-80c4-637ea4b5d684" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:46.589 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "27077dc4-172a-4950-80c4-637ea4b5d684" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:46.591 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 189.5890 ms
2025-06-03 01:21:46.595 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0245 ms
2025-06-03 01:21:46.601 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1536 ms
2025-06-03 01:21:46.605 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0187 ms
2025-06-03 01:21:46.744 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0204 ms
2025-06-03 01:21:46.748 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1266 ms
2025-06-03 01:21:46.749 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:46.753 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:46.758 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:46.761 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:46.765 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "620b63b3-050b-4cc7-82ba-a235f5824bfe" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:46.769 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "620b63b3-050b-4cc7-82ba-a235f5824bfe" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:46.772 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 163.3848 ms
2025-06-03 01:21:46.776 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0226 ms
2025-06-03 01:21:46.779 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1416 ms
2025-06-03 01:21:46.784 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0292 ms
2025-06-03 01:21:46.889 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0261 ms
2025-06-03 01:21:46.893 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1242 ms
2025-06-03 01:21:46.893 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:46.898 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:46.903 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:46.907 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:46.911 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "27bcd4f4-5e67-45a5-9a50-434b9abc9a18" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:46.913 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "27bcd4f4-5e67-45a5-9a50-434b9abc9a18" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:46.916 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 129.4122 ms
2025-06-03 01:21:46.921 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0258 ms
2025-06-03 01:21:46.924 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1382 ms
2025-06-03 01:21:46.928 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0214 ms
2025-06-03 01:21:47.023 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0202 ms
2025-06-03 01:21:47.027 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1942 ms
2025-06-03 01:21:47.027 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:47.033 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:47.037 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:47.040 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:47.043 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "262dda48-b0df-40ff-b205-05930a1423be" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:47.048 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "262dda48-b0df-40ff-b205-05930a1423be" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:47.050 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 119.1225 ms
2025-06-03 01:21:47.055 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0212 ms
2025-06-03 01:21:47.059 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1533 ms
2025-06-03 01:21:47.064 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0198 ms
2025-06-03 01:21:47.257 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0216 ms
2025-06-03 01:21:47.261 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1848 ms
2025-06-03 01:21:47.261 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:47.274 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:47.280 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:47.283 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:47.286 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "84cfddfe-a945-4ffb-9c10-47332618de90" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:47.288 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "84cfddfe-a945-4ffb-9c10-47332618de90" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:47.292 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 225.8506 ms
2025-06-03 01:21:47.296 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0204 ms
2025-06-03 01:21:47.300 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1565 ms
2025-06-03 01:21:47.303 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0183 ms
2025-06-03 01:21:47.392 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0280 ms
2025-06-03 01:21:47.396 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1306 ms
2025-06-03 01:21:47.397 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:47.402 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:47.407 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:47.411 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:47.416 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "ff30bc69-6f32-4f91-b004-b4499b2ab3f5" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:47.418 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "ff30bc69-6f32-4f91-b004-b4499b2ab3f5" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:47.420 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 113.8467 ms
2025-06-03 01:21:47.424 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0192 ms
2025-06-03 01:21:47.428 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1390 ms
2025-06-03 01:21:47.433 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0181 ms
2025-06-03 01:21:47.530 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0310 ms
2025-06-03 01:21:47.535 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1258 ms
2025-06-03 01:21:47.535 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:47.540 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:47.544 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:47.548 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:47.552 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "876332f1-54cf-428a-9be5-a6926842010f" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:47.556 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "876332f1-54cf-428a-9be5-a6926842010f" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:47.558 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 122.5345 ms
2025-06-03 01:21:47.562 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0194 ms
2025-06-03 01:21:47.566 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1380 ms
2025-06-03 01:21:47.570 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0186 ms
2025-06-03 01:21:47.665 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0258 ms
2025-06-03 01:21:47.670 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1295 ms
2025-06-03 01:21:47.670 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:47.675 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:47.680 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:47.684 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:47.687 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "8f3afe4a-3806-4e77-92be-055c7b9228cc" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:47.692 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "8f3afe4a-3806-4e77-92be-055c7b9228cc" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:47.696 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 123.0000 ms
2025-06-03 01:21:47.700 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0272 ms
2025-06-03 01:21:47.704 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1715 ms
2025-06-03 01:21:47.711 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0223 ms
2025-06-03 01:21:48.275 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0206 ms
2025-06-03 01:21:48.280 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1449 ms
2025-06-03 01:21:48.280 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'hh'
2025-06-03 01:21:48.286 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:48.289 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:48.293 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:48.299 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "913e4058-890b-48a9-a527-d979ed21ab75" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:48.301 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "913e4058-890b-48a9-a527-d979ed21ab75" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:48.303 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 589.6703 ms
2025-06-03 01:21:48.307 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0206 ms
2025-06-03 01:21:48.311 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1450 ms
2025-06-03 01:21:48.315 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0182 ms
2025-06-03 01:21:48.475 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0195 ms
2025-06-03 01:21:48.479 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1267 ms
2025-06-03 01:21:48.479 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:48.484 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:48.489 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:48.492 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:48.496 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "70b9bc1a-cb0a-43ec-99a9-167304b73801" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:48.500 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "70b9bc1a-cb0a-43ec-99a9-167304b73801" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:48.502 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 184.1360 ms
2025-06-03 01:21:48.506 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0216 ms
2025-06-03 01:21:48.510 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1355 ms
2025-06-03 01:21:48.515 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0200 ms
2025-06-03 01:21:48.676 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0191 ms
2025-06-03 01:21:48.681 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1323 ms
2025-06-03 01:21:48.681 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:48.686 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:48.690 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:48.694 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:48.697 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "16a76963-7804-4c9c-813c-6ec535934c68" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:48.699 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "16a76963-7804-4c9c-813c-6ec535934c68" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:48.704 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 186.4632 ms
2025-06-03 01:21:48.708 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0197 ms
2025-06-03 01:21:48.712 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1589 ms
2025-06-03 01:21:48.715 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0194 ms
2025-06-03 01:21:49.312 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0215 ms
2025-06-03 01:21:49.316 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1338 ms
2025-06-03 01:21:49.316 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:49.323 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:49.327 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:49.330 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:49.333 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "17fc76dd-9959-44b1-8595-8ceddc2122fc" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:49.338 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "17fc76dd-9959-44b1-8595-8ceddc2122fc" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:49.341 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 621.6084 ms
2025-06-03 01:21:49.345 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0202 ms
2025-06-03 01:21:49.349 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1636 ms
2025-06-03 01:21:49.354 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0220 ms
2025-06-03 01:21:51.083 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0278 ms
2025-06-03 01:21:51.087 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1216 ms
2025-06-03 01:21:51.087 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:51.092 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:51.098 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:51.101 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:51.105 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "5a50bf5b-7dd2-48f1-8641-d87ce0f7c9ca" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:51.110 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "5a50bf5b-7dd2-48f1-8641-d87ce0f7c9ca" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:51.112 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 1755.6133 ms
2025-06-03 01:21:51.116 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0220 ms
2025-06-03 01:21:51.120 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1784 ms
2025-06-03 01:21:51.125 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0198 ms
2025-06-03 01:21:51.378 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0222 ms
2025-06-03 01:21:51.383 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1238 ms
2025-06-03 01:21:51.383 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:51.388 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:51.393 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:51.397 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:51.402 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "9a2cde06-88a2-4a3f-9477-64f943ce4896" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:51.404 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "9a2cde06-88a2-4a3f-9477-64f943ce4896" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:51.406 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 278.7042 ms
2025-06-03 01:21:51.411 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0185 ms
2025-06-03 01:21:51.414 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1332 ms
2025-06-03 01:21:51.418 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0170 ms
2025-06-03 01:21:51.652 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0343 ms
2025-06-03 01:21:51.656 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1240 ms
2025-06-03 01:21:51.656 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'h'
2025-06-03 01:21:51.662 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:51.666 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:51.670 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:51.673 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "ebf77451-f682-4ab7-ae5f-2c45318826dd" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:51.676 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "ebf77451-f682-4ab7-ae5f-2c45318826dd" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:51.680 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 259.0721 ms
2025-06-03 01:21:51.684 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0194 ms
2025-06-03 01:21:51.688 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1622 ms
2025-06-03 01:21:51.692 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0207 ms
2025-06-03 01:21:51.919 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0184 ms
2025-06-03 01:21:51.924 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1238 ms
2025-06-03 01:21:51.924 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'g'
2025-06-03 01:21:51.928 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:51.933 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:51.937 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:51.940 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "be45e831-8dee-4b7c-b92b-9e2c914e2f84" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:51.946 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "be45e831-8dee-4b7c-b92b-9e2c914e2f84" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:51.948 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 252.4847 ms
2025-06-03 01:21:51.952 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0176 ms
2025-06-03 01:21:51.955 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1478 ms
2025-06-03 01:21:51.959 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0181 ms
2025-06-03 01:21:52.190 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0204 ms
2025-06-03 01:21:52.194 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1251 ms
2025-06-03 01:21:52.194 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'd'
2025-06-03 01:21:52.199 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:52.203 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:52.208 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:52.211 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "e9660e34-cf66-4837-8699-b1d95d5ca76c" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:52.214 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "e9660e34-cf66-4837-8699-b1d95d5ca76c" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:52.216 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 254.5908 ms
2025-06-03 01:21:52.223 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0323 ms
2025-06-03 01:21:52.227 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1544 ms
2025-06-03 01:21:52.231 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0214 ms
2025-06-03 01:21:52.494 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0320 ms
2025-06-03 01:21:52.498 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1232 ms
2025-06-03 01:21:52.498 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'd'
2025-06-03 01:21:52.503 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:52.508 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:52.511 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:52.514 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "43e5f2ad-6648-4abc-b992-c5072e9f8bd3" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:52.518 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "43e5f2ad-6648-4abc-b992-c5072e9f8bd3" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:52.521 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 285.7471 ms
2025-06-03 01:21:52.525 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0180 ms
2025-06-03 01:21:52.528 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1399 ms
2025-06-03 01:21:52.533 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0176 ms
2025-06-03 01:21:52.820 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0203 ms
2025-06-03 01:21:52.824 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1245 ms
2025-06-03 01:21:52.824 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'g'
2025-06-03 01:21:52.829 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:52.833 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:52.837 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:52.842 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "b7a22705-b250-47b3-98ee-920250d414a1" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:52.844 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "b7a22705-b250-47b3-98ee-920250d414a1" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:52.847 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 311.2850 ms
2025-06-03 01:21:52.851 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0195 ms
2025-06-03 01:21:52.856 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1367 ms
2025-06-03 01:21:52.859 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0181 ms
2025-06-03 01:21:53.115 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0206 ms
2025-06-03 01:21:53.119 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1253 ms
2025-06-03 01:21:53.119 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'g'
2025-06-03 01:21:53.124 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:53.128 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:53.132 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:53.138 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "cb2a34a1-14e2-4561-b669-6c9bae5ee5bc" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:53.141 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "cb2a34a1-14e2-4561-b669-6c9bae5ee5bc" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:53.143 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 280.4109 ms
2025-06-03 01:21:53.147 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0210 ms
2025-06-03 01:21:53.152 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1765 ms
2025-06-03 01:21:53.155 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0183 ms
2025-06-03 01:21:53.522 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0262 ms
2025-06-03 01:21:53.527 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1530 ms
2025-06-03 01:21:53.527 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'b'
2025-06-03 01:21:53.533 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:53.538 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:53.544 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:53.547 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "2ba88d4e-03e4-46d7-b6fa-6fbc4129418f" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:53.550 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "2ba88d4e-03e4-46d7-b6fa-6fbc4129418f" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:53.552 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 393.8118 ms
2025-06-03 01:21:53.556 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0189 ms
2025-06-03 01:21:53.561 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1372 ms
2025-06-03 01:21:53.564 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0176 ms
2025-06-03 01:21:53.881 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0276 ms
2025-06-03 01:21:53.885 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1261 ms
2025-06-03 01:21:53.885 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'cvb'
2025-06-03 01:21:53.891 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:53.895 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:53.901 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:53.904 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "2053fb34-a105-4005-8d4a-4719dee564cc" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:53.906 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "2053fb34-a105-4005-8d4a-4719dee564cc" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:53.909 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 341.4075 ms
2025-06-03 01:21:53.913 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0219 ms
2025-06-03 01:21:53.917 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1415 ms
2025-06-03 01:21:53.921 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0203 ms
2025-06-03 01:21:54.226 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0188 ms
2025-06-03 01:21:54.230 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1306 ms
2025-06-03 01:21:54.230 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'cv'
2025-06-03 01:21:54.236 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:54.241 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:54.245 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:54.248 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "41bdcbcb-9a4a-44fb-8c2f-f2a5ca84cc55" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:54.251 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "41bdcbcb-9a4a-44fb-8c2f-f2a5ca84cc55" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:54.253 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 329.4862 ms
2025-06-03 01:21:54.259 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0212 ms
2025-06-03 01:21:54.262 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1472 ms
2025-06-03 01:21:54.266 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0181 ms
2025-06-03 01:21:54.573 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0281 ms
2025-06-03 01:21:54.577 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1850 ms
2025-06-03 01:21:54.577 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'bv'
2025-06-03 01:21:54.582 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:54.587 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:54.591 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:54.594 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "b1e66325-91aa-4aeb-8936-53947c575c10" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:54.599 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "b1e66325-91aa-4aeb-8936-53947c575c10" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:54.601 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 332.4286 ms
2025-06-03 01:21:54.606 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0210 ms
2025-06-03 01:21:54.610 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1834 ms
2025-06-03 01:21:54.614 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0247 ms
2025-06-03 01:21:54.886 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0205 ms
2025-06-03 01:21:54.890 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1242 ms
2025-06-03 01:21:54.890 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'cb'
2025-06-03 01:21:54.895 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:54.900 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:54.904 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:54.910 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "4bce39e9-cfdd-4638-ae3b-5f4988c58d9e" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:54.912 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "4bce39e9-cfdd-4638-ae3b-5f4988c58d9e" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:54.914 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 296.3663 ms
2025-06-03 01:21:54.919 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0212 ms
2025-06-03 01:21:54.923 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2737 ms
2025-06-03 01:21:54.927 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0188 ms
2025-06-03 01:21:55.149 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0195 ms
2025-06-03 01:21:55.153 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1210 ms
2025-06-03 01:21:55.154 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'cb'
2025-06-03 01:21:55.159 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:55.163 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:55.167 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:55.170 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "7206dbda-5f8e-4774-b9a2-0363bc4f62c4" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:55.174 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "7206dbda-5f8e-4774-b9a2-0363bc4f62c4" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:55.176 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 246.1340 ms
2025-06-03 01:21:55.180 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0198 ms
2025-06-03 01:21:55.183 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1441 ms
2025-06-03 01:21:55.187 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0187 ms
2025-06-03 01:21:55.445 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0219 ms
2025-06-03 01:21:55.449 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1206 ms
2025-06-03 01:21:55.449 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'cvb'
2025-06-03 01:21:55.454 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:55.458 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:55.463 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:55.466 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "5a9f4b29-b2e9-47c6-9300-8d69913bd572" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:55.471 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "5a9f4b29-b2e9-47c6-9300-8d69913bd572" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:55.474 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 282.4833 ms
2025-06-03 01:21:55.479 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0318 ms
2025-06-03 01:21:55.483 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1849 ms
2025-06-03 01:21:55.487 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0174 ms
2025-06-03 01:21:55.752 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0204 ms
2025-06-03 01:21:55.756 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1306 ms
2025-06-03 01:21:55.756 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'cb'
2025-06-03 01:21:55.762 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:55.775 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:55.782 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:55.785 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "e42ad2f7-5a88-4505-9e16-3c39d140da5c" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:55.787 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "e42ad2f7-5a88-4505-9e16-3c39d140da5c" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:55.790 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 299.6319 ms
2025-06-03 01:21:55.794 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0202 ms
2025-06-03 01:21:55.799 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1345 ms
2025-06-03 01:21:55.802 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0180 ms
2025-06-03 01:21:56.032 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0213 ms
2025-06-03 01:21:56.035 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1182 ms
2025-06-03 01:21:56.035 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'cv'
2025-06-03 01:21:56.040 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:56.045 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:56.049 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:56.052 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "217da06e-44cc-4e5a-a4d7-13de4d1413fa" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:56.054 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "217da06e-44cc-4e5a-a4d7-13de4d1413fa" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:56.059 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 253.5928 ms
2025-06-03 01:21:56.064 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0217 ms
2025-06-03 01:21:56.067 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1486 ms
2025-06-03 01:21:56.071 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0184 ms
2025-06-03 01:21:56.298 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0266 ms
2025-06-03 01:21:56.302 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1170 ms
2025-06-03 01:21:56.302 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'c'
2025-06-03 01:21:56.308 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:56.313 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:56.316 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:56.320 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "1b19fae7-5a40-495e-88c6-c5e9a90b2304" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:56.322 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "1b19fae7-5a40-495e-88c6-c5e9a90b2304" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:56.328 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 253.0481 ms
2025-06-03 01:21:56.332 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0243 ms
2025-06-03 01:21:56.335 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1386 ms
2025-06-03 01:21:56.339 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0253 ms
2025-06-03 01:21:56.629 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0257 ms
2025-06-03 01:21:56.634 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1296 ms
2025-06-03 01:21:56.634 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'bvc'
2025-06-03 01:21:56.639 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:21:56.643 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:21:56.646 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:21:56.651 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0b219d4f-efc4-4559-b2d2-cfb2e14737be" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:21:56.654 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0b219d4f-efc4-4559-b2d2-cfb2e14737be" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:21:56.656 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 312.9821 ms
2025-06-03 01:21:56.659 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0180 ms
2025-06-03 01:21:56.663 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1493 ms
2025-06-03 01:21:56.668 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0186 ms
2025-06-03 01:22:05.300 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 204 in 0.0188 ms
2025-06-03 01:22:05.303 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 404 in 0.1038 ms
2025-06-03 01:22:10.099 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 404 in 0.1152 ms
2025-06-03 01:22:15.939 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 204 in 0.0199 ms
2025-06-03 01:22:15.942 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 404 in 0.1015 ms
2025-06-03 01:23:26.675 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90004.3950 ms
2025-06-03 01:23:26.681 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0235 ms
2025-06-03 01:24:42.758 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0212 ms
2025-06-03 01:24:42.762 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:24:42.764 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 01:24:42.771 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:24:42.778 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:24:42.782 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 20.0792 ms
2025-06-03 01:24:56.693 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90009.2091 ms
2025-06-03 01:24:56.700 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0209 ms
2025-06-03 01:26:03.127 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0455 ms
2025-06-03 01:26:03.134 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:26:03.136 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 01:26:03.142 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:26:03.153 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:26:03.159 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 25.5809 ms
2025-06-03 01:26:26.711 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90007.7095 ms
2025-06-03 01:26:26.718 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0367 ms
2025-06-03 01:26:47.554 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0271 ms
2025-06-03 01:26:47.559 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1243 ms
2025-06-03 01:26:47.559 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'hi'
2025-06-03 01:26:47.565 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:26:47.571 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:26:47.575 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:26:47.581 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "e7b5b88d-b243-47c8-96b9-eb547aa4a3c2" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:26:47.583 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "e7b5b88d-b243-47c8-96b9-eb547aa4a3c2" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:26:47.585 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 20861.4248 ms
2025-06-03 01:26:47.590 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0204 ms
2025-06-03 01:26:47.595 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1625 ms
2025-06-03 01:26:47.599 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0197 ms
2025-06-03 01:26:49.592 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0265 ms
2025-06-03 01:26:49.597 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1388 ms
2025-06-03 01:26:49.597 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'hiihihiih'
2025-06-03 01:26:49.602 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:26:49.606 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:26:49.610 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:26:49.614 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "102ea085-1a87-4db4-a73d-23c2b11480c6" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:26:49.617 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "102ea085-1a87-4db4-a73d-23c2b11480c6" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: j8Xg2opuqBO4KKektb0kDA)
2025-06-03 01:26:49.619 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 2016.8883 ms
2025-06-03 01:26:49.623 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0183 ms
2025-06-03 01:26:49.627 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1539 ms
2025-06-03 01:26:49.631 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0185 ms
2025-06-03 01:27:25.738 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0367 ms
2025-06-03 01:27:25.743 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:27:25.745 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 01:27:25.755 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:27:25.764 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:27:25.768 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 26.0458 ms
2025-06-03 01:27:45.644 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 56009.7010 ms
2025-06-03 01:27:45.775 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0331 ms
2025-06-03 01:27:45.784 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "b5c30aa1-172a-4bd6-9579-d3d36c55ca68"
2025-06-03 01:27:45.788 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 01:27:45.795 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:27:45.805 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 21.1801 ms
2025-06-03 01:27:45.825 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0206 ms
2025-06-03 01:27:45.830 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.1683 ms
2025-06-03 01:27:45.838 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1064 ms
2025-06-03 01:27:45.887 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0209 ms
2025-06-03 01:27:45.893 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:27:45.895 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 01:27:45.899 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:27:45.908 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:27:45.912 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0209 ms
2025-06-03 01:27:45.914 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 21.7233 ms
2025-06-03 01:27:45.919 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2240 ms
2025-06-03 01:27:45.925 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:27:45.930 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 01:27:45.933 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.0768 ms
2025-06-03 01:27:45.933 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:27:45.939 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0214 ms
2025-06-03 01:27:45.944 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:27:45.949 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2553 ms
2025-06-03 01:27:45.954 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 29.4556 ms
2025-06-03 01:27:45.958 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0209 ms
2025-06-03 01:27:45.964 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2256 ms
2025-06-03 01:27:45.971 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0259 ms
2025-06-03 01:27:45.972 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0198 ms
2025-06-03 01:27:45.978 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1660 ms
2025-06-03 01:27:45.978 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 3.2362 ms
2025-06-03 01:27:45.978 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connected with ConnectionId zgvWyMC6TCOfUj7U5vJ1Pw
2025-06-03 01:27:45.994 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0321 ms
2025-06-03 01:27:45.994 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 01:27:46.018 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:46.028 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 01:27:46.036 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" is online
2025-06-03 01:27:46.893 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 204 in 0.0226 ms
2025-06-03 01:27:46.897 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 404 in 0.0942 ms
2025-06-03 01:27:52.571 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 6567.4792 ms
2025-06-03 01:27:52.646 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0212 ms
2025-06-03 01:27:52.653 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "b5c30aa1-172a-4bd6-9579-d3d36c55ca68"
2025-06-03 01:27:52.658 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 01:27:52.668 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:27:52.677 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 24.8839 ms
2025-06-03 01:27:52.690 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0242 ms
2025-06-03 01:27:52.697 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2392 ms
2025-06-03 01:27:52.725 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0212 ms
2025-06-03 01:27:52.734 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:27:52.736 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 01:27:52.744 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:27:52.747 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.2649 ms
2025-06-03 01:27:52.759 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:27:52.767 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0212 ms
2025-06-03 01:27:52.771 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 38.0044 ms
2025-06-03 01:27:52.772 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:27:52.778 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.2031 ms
2025-06-03 01:27:52.785 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 01:27:52.794 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.1467 ms
2025-06-03 01:27:52.796 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:27:52.801 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0209 ms
2025-06-03 01:27:52.807 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:27:52.810 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3080 ms
2025-06-03 01:27:52.814 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 42.0812 ms
2025-06-03 01:27:52.819 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0234 ms
2025-06-03 01:27:52.824 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.5889 ms
2025-06-03 01:27:52.831 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0429 ms
2025-06-03 01:27:52.832 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0362 ms
2025-06-03 01:27:52.839 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2319 ms
2025-06-03 01:27:52.839 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 3.8006 ms
2025-06-03 01:27:52.839 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connected with ConnectionId by49AW0xwI5k5crtIx-xkg
2025-06-03 01:27:52.848 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0207 ms
2025-06-03 01:27:52.850 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 01:27:52.861 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:52.869 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 01:27:52.875 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" is online
2025-06-03 01:27:53.327 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 204 in 0.0191 ms
2025-06-03 01:27:53.332 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 404 in 0.1031 ms
2025-06-03 01:27:55.033 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0198 ms
2025-06-03 01:27:55.037 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1250 ms
2025-06-03 01:27:55.037 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'ad'
2025-06-03 01:27:55.044 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:55.051 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:55.058 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:55.061 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "f08575c9-dd23-4d8b-861e-654a87f79034" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:55.063 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "f08575c9-dd23-4d8b-861e-654a87f79034" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:55.065 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 2212.7848 ms
2025-06-03 01:27:55.070 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0281 ms
2025-06-03 01:27:55.073 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1402 ms
2025-06-03 01:27:55.078 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0197 ms
2025-06-03 01:27:56.948 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0276 ms
2025-06-03 01:27:56.952 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1189 ms
2025-06-03 01:27:56.952 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'dad'
2025-06-03 01:27:56.958 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:56.962 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:56.966 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:56.970 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "6559ccc1-f3c3-4f68-afe6-6ba41df6dc6c" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:56.973 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "6559ccc1-f3c3-4f68-afe6-6ba41df6dc6c" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:56.975 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 1893.7466 ms
2025-06-03 01:27:56.979 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0202 ms
2025-06-03 01:27:56.983 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2028 ms
2025-06-03 01:27:56.987 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0186 ms
2025-06-03 01:27:57.406 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0221 ms
2025-06-03 01:27:57.410 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1264 ms
2025-06-03 01:27:57.410 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'd'
2025-06-03 01:27:57.415 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:57.420 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:57.424 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:57.428 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "49826b73-1758-4fee-8b5f-e03d08a571d7" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:57.431 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "49826b73-1758-4fee-8b5f-e03d08a571d7" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:57.433 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 442.1775 ms
2025-06-03 01:27:57.439 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0200 ms
2025-06-03 01:27:57.443 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1490 ms
2025-06-03 01:27:57.447 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0186 ms
2025-06-03 01:27:57.669 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0221 ms
2025-06-03 01:27:57.673 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1179 ms
2025-06-03 01:27:57.673 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'ad'
2025-06-03 01:27:57.678 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:57.683 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:57.690 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:57.694 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "6236373d-22a1-460d-8562-4844b18a3c9e" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:57.697 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "6236373d-22a1-460d-8562-4844b18a3c9e" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:57.699 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 247.3457 ms
2025-06-03 01:27:57.705 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0287 ms
2025-06-03 01:27:57.708 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1421 ms
2025-06-03 01:27:57.712 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0283 ms
2025-06-03 01:27:57.847 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0199 ms
2025-06-03 01:27:57.851 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1178 ms
2025-06-03 01:27:57.852 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'a'
2025-06-03 01:27:57.858 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:57.862 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:57.866 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:57.869 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "fd7ae3dc-6a5a-45b1-917f-74206104686c" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:57.874 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "fd7ae3dc-6a5a-45b1-917f-74206104686c" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:57.876 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 160.8905 ms
2025-06-03 01:27:57.912 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0246 ms
2025-06-03 01:27:57.916 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1417 ms
2025-06-03 01:27:57.920 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0215 ms
2025-06-03 01:27:58.021 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0207 ms
2025-06-03 01:27:58.026 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1237 ms
2025-06-03 01:27:58.026 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": ''
2025-06-03 01:27:58.031 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:58.035 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:58.038 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:58.041 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "7bbfff86-d9de-4822-941d-d90d36e8666e" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:58.047 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "7bbfff86-d9de-4822-941d-d90d36e8666e" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:58.049 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 124.1242 ms
2025-06-03 01:27:58.053 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0194 ms
2025-06-03 01:27:58.056 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1371 ms
2025-06-03 01:27:58.062 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0188 ms
2025-06-03 01:27:58.177 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0336 ms
2025-06-03 01:27:58.181 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1718 ms
2025-06-03 01:27:58.181 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'd'
2025-06-03 01:27:58.187 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:58.192 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:58.196 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:58.201 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "77f8e6d9-05ba-4a70-8cfd-6c092368d2ea" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:58.204 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "77f8e6d9-05ba-4a70-8cfd-6c092368d2ea" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:58.207 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 141.9687 ms
2025-06-03 01:27:58.210 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0196 ms
2025-06-03 01:27:58.214 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1430 ms
2025-06-03 01:27:58.219 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0219 ms
2025-06-03 01:27:58.332 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0184 ms
2025-06-03 01:27:58.336 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1201 ms
2025-06-03 01:27:58.336 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'ad'
2025-06-03 01:27:58.341 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:58.345 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:58.349 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:58.352 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "111ed4a6-1f95-47a3-b532-2dfd59ce6c4f" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:58.357 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "111ed4a6-1f95-47a3-b532-2dfd59ce6c4f" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:58.360 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 137.7788 ms
2025-06-03 01:27:58.364 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0198 ms
2025-06-03 01:27:58.368 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1340 ms
2025-06-03 01:27:58.373 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0257 ms
2025-06-03 01:27:58.472 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0217 ms
2025-06-03 01:27:58.476 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1204 ms
2025-06-03 01:27:58.477 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'a'
2025-06-03 01:27:58.481 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:58.485 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:58.489 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:58.492 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0b1dda05-4c0a-45ff-8973-e94566d60ae9" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:58.499 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0b1dda05-4c0a-45ff-8973-e94566d60ae9" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:58.501 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 124.9036 ms
2025-06-03 01:27:58.505 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0184 ms
2025-06-03 01:27:58.509 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2059 ms
2025-06-03 01:27:58.514 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0203 ms
2025-06-03 01:27:58.590 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0270 ms
2025-06-03 01:27:58.594 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2182 ms
2025-06-03 01:27:58.595 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'd'
2025-06-03 01:27:58.600 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:58.606 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:58.610 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:58.613 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "b0bb6c41-820b-41c9-8cef-132b8d9f21cf" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:58.616 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "b0bb6c41-820b-41c9-8cef-132b8d9f21cf" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:58.620 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 103.0285 ms
2025-06-03 01:27:58.625 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0187 ms
2025-06-03 01:27:58.628 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1449 ms
2025-06-03 01:27:58.632 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0181 ms
2025-06-03 01:27:58.741 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0198 ms
2025-06-03 01:27:58.746 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1455 ms
2025-06-03 01:27:58.746 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'ad'
2025-06-03 01:27:58.751 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:58.757 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:58.763 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:58.766 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0c361163-2cae-4039-aa26-b304fa960d6e" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:58.768 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0c361163-2cae-4039-aa26-b304fa960d6e" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:58.770 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 133.3391 ms
2025-06-03 01:27:58.774 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0229 ms
2025-06-03 01:27:58.778 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1366 ms
2025-06-03 01:27:58.782 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0176 ms
2025-06-03 01:27:58.881 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0248 ms
2025-06-03 01:27:58.885 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1490 ms
2025-06-03 01:27:58.885 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'd'
2025-06-03 01:27:58.890 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:58.895 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:58.898 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:58.903 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "fe9e89d1-e6d6-4322-99d3-71c644deff06" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:58.905 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "fe9e89d1-e6d6-4322-99d3-71c644deff06" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:58.908 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 122.6219 ms
2025-06-03 01:27:58.912 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0187 ms
2025-06-03 01:27:58.916 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1409 ms
2025-06-03 01:27:58.920 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0226 ms
2025-06-03 01:27:59.021 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0265 ms
2025-06-03 01:27:59.026 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1154 ms
2025-06-03 01:27:59.026 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'd'
2025-06-03 01:27:59.031 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:59.036 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:59.043 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:59.046 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "669b3086-cd64-489f-a617-9dafa52dc104" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:59.049 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "669b3086-cd64-489f-a617-9dafa52dc104" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:59.051 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 127.7869 ms
2025-06-03 01:27:59.055 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0272 ms
2025-06-03 01:27:59.059 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1403 ms
2025-06-03 01:27:59.063 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0185 ms
2025-06-03 01:27:59.129 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0200 ms
2025-06-03 01:27:59.133 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1198 ms
2025-06-03 01:27:59.133 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'd'
2025-06-03 01:27:59.138 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:59.142 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:59.146 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:59.151 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "c8aa1ed3-5ce6-4d41-90a6-5eda72e2f33b" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:59.153 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "c8aa1ed3-5ce6-4d41-90a6-5eda72e2f33b" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:59.155 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 89.4101 ms
2025-06-03 01:27:59.160 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0200 ms
2025-06-03 01:27:59.163 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1944 ms
2025-06-03 01:27:59.168 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0183 ms
2025-06-03 01:27:59.389 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0202 ms
2025-06-03 01:27:59.394 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1233 ms
2025-06-03 01:27:59.394 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'd'
2025-06-03 01:27:59.399 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:59.404 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:59.409 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:59.414 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "c8604ec8-fa02-4360-94c4-b31e2500a1db" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:59.417 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "c8604ec8-fa02-4360-94c4-b31e2500a1db" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:59.419 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 248.5991 ms
2025-06-03 01:27:59.423 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0196 ms
2025-06-03 01:27:59.426 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1397 ms
2025-06-03 01:27:59.432 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0182 ms
2025-06-03 01:27:59.528 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0201 ms
2025-06-03 01:27:59.532 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1158 ms
2025-06-03 01:27:59.532 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'sd'
2025-06-03 01:27:59.539 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:59.543 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:59.547 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:59.550 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "8d9d4881-0fbe-4709-b4ef-3126f0b6d1b3" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:59.552 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "8d9d4881-0fbe-4709-b4ef-3126f0b6d1b3" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:59.557 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 121.7669 ms
2025-06-03 01:27:59.560 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0184 ms
2025-06-03 01:27:59.563 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1346 ms
2025-06-03 01:27:59.567 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0178 ms
2025-06-03 01:27:59.938 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0206 ms
2025-06-03 01:27:59.942 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1249 ms
2025-06-03 01:27:59.942 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'd'
2025-06-03 01:27:59.947 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:27:59.951 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:27:59.954 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:27:59.960 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "835b13f4-bcb9-42db-a1a7-eb3a24595d62" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:27:59.963 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "835b13f4-bcb9-42db-a1a7-eb3a24595d62" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:27:59.965 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 394.6157 ms
2025-06-03 01:27:59.969 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0202 ms
2025-06-03 01:27:59.973 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1621 ms
2025-06-03 01:27:59.977 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0212 ms
2025-06-03 01:29:29.989 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90008.7208 ms
2025-06-03 01:29:29.996 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0274 ms
2025-06-03 01:30:02.226 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0252 ms
2025-06-03 01:30:02.231 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1481 ms
2025-06-03 01:30:02.231 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": '.'
2025-06-03 01:30:02.238 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:30:02.251 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:30:02.257 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:30:02.262 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "da31c085-ad4d-49f6-b354-450fbd93da84" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:30:02.265 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "da31c085-ad4d-49f6-b354-450fbd93da84" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: by49AW0xwI5k5crtIx-xkg)
2025-06-03 01:30:02.269 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 32268.5040 ms
2025-06-03 01:30:02.275 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0350 ms
2025-06-03 01:30:02.280 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1552 ms
2025-06-03 01:30:02.286 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0223 ms
2025-06-03 01:30:08.828 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 6538.6820 ms
2025-06-03 01:30:09.024 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /auth/me responded 204 in 0.0294 ms
2025-06-03 01:30:09.034 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching profile for current user "b5c30aa1-172a-4bd6-9579-d3d36c55ca68"
2025-06-03 01:30:09.039 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 01:30:09.050 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:30:09.058 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /auth/me responded 200 in 23.5913 ms
2025-06-03 01:30:09.099 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0303 ms
2025-06-03 01:30:09.108 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.7533 ms
2025-06-03 01:30:09.123 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP CONNECT /chathub responded 401 in 0.1725 ms
2025-06-03 01:30:09.134 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0417 ms
2025-06-03 01:30:09.148 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.3267 ms
2025-06-03 01:30:09.243 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/users responded 204 in 0.0324 ms
2025-06-03 01:30:09.255 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:30:09.257 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 01:30:09.265 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:30:09.277 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:30:09.288 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 33.7016 ms
2025-06-03 01:30:09.297 +07:00 [INF] (ChatApp.Api.Controllers.UsersController) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" requesting user list. Search: 'None', Page: 1, PageSize: 20
2025-06-03 01:30:09.301 +07:00 [INF] (ChatApp.Application.Services.UserService) Fetching all users. CurrentUserId: "b5c30aa1-172a-4bd6-9579-d3d36c55ca68", Search: None, Page: 1
2025-06-03 01:30:09.305 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__currentUserId_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] <> @__currentUserId_0
ORDER BY [u].[DisplayName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:30:09.312 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 401 in 0.1463 ms
2025-06-03 01:30:09.331 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [UserConnections] AS [u]
        WHERE [u].[UserId] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:30:09.344 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub/negotiate responded 204 in 0.0364 ms
2025-06-03 01:30:09.351 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/users responded 200 in 54.2702 ms
2025-06-03 01:30:09.361 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub/negotiate responded 200 in 0.1846 ms
2025-06-03 01:30:09.384 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0390 ms
2025-06-03 01:30:09.390 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.3262 ms
2025-06-03 01:30:09.406 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0381 ms
2025-06-03 01:30:09.407 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0362 ms
2025-06-03 01:30:09.415 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1490 ms
2025-06-03 01:30:09.415 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" connected with ConnectionId 6tmtF1Jhsl3gjjrKD6PLCw
2025-06-03 01:30:09.415 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 4.9930 ms
2025-06-03 01:30:09.431 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__Context_ConnectionId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[ConnectionId], [u].[ConnectedAtUtc], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__Context_ConnectionId_0
2025-06-03 01:30:09.437 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0428 ms
2025-06-03 01:30:09.442 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:30:09.451 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p12='?' (DbType = Guid), @p3='?' (Size = 2048), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 50), @p11='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [ConnectedAtUtc], [UserId])
VALUES (@p0, @p1, @p2);
UPDATE [Users] SET [AvatarUrl] = @p3, [CreatedAtUtc] = @p4, [DisplayName] = @p5, [Email] = @p6, [ExternalId] = @p7, [IsActive] = @p8, [LastSeenUtc] = @p9, [ProviderName] = @p10, [UpdatedAtUtc] = @p11
OUTPUT 1
WHERE [Id] = @p12;
2025-06-03 01:30:09.456 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) SignalR: Notified others that User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" is online
2025-06-03 01:30:10.266 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 204 in 0.0217 ms
2025-06-03 01:30:10.271 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 404 in 0.0985 ms
2025-06-03 01:31:23.662 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0267 ms
2025-06-03 01:31:23.666 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1339 ms
2025-06-03 01:31:23.666 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:23.673 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:23.691 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:23.698 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:23.701 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "48c18ae8-147a-486c-be8f-3a1df6c4d33b" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:23.704 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "48c18ae8-147a-486c-be8f-3a1df6c4d33b" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:23.706 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 74262.0286 ms
2025-06-03 01:31:23.713 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0279 ms
2025-06-03 01:31:23.717 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2601 ms
2025-06-03 01:31:23.729 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0395 ms
2025-06-03 01:31:23.884 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0257 ms
2025-06-03 01:31:23.889 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1228 ms
2025-06-03 01:31:23.889 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:23.894 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:23.900 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:23.903 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:23.906 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0d88bf3a-4082-43c4-9ec5-e4383daf342e" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:23.908 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0d88bf3a-4082-43c4-9ec5-e4383daf342e" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:23.910 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 176.9234 ms
2025-06-03 01:31:23.918 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0213 ms
2025-06-03 01:31:23.922 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1511 ms
2025-06-03 01:31:23.928 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0207 ms
2025-06-03 01:31:24.087 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0202 ms
2025-06-03 01:31:24.091 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1189 ms
2025-06-03 01:31:24.091 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:24.097 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:24.102 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:24.106 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:24.109 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "741423b9-7e51-4a69-b26f-09cda659112a" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:24.115 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "741423b9-7e51-4a69-b26f-09cda659112a" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:24.117 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 185.3489 ms
2025-06-03 01:31:24.122 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0207 ms
2025-06-03 01:31:24.126 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2131 ms
2025-06-03 01:31:24.133 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0286 ms
2025-06-03 01:31:24.326 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0211 ms
2025-06-03 01:31:24.330 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1455 ms
2025-06-03 01:31:24.330 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:24.337 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:24.343 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:24.349 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:24.352 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0069af5e-84e4-43e9-8b8d-c5cc375dfcd4" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:24.355 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0069af5e-84e4-43e9-8b8d-c5cc375dfcd4" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:24.358 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 220.0948 ms
2025-06-03 01:31:24.366 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0214 ms
2025-06-03 01:31:24.371 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2129 ms
2025-06-03 01:31:24.377 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0284 ms
2025-06-03 01:31:24.549 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0219 ms
2025-06-03 01:31:24.555 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1621 ms
2025-06-03 01:31:24.555 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:24.564 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:24.571 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:24.577 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:24.582 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "6ee00075-ee3a-4bc4-ae42-0e58d3558a49" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:24.587 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "6ee00075-ee3a-4bc4-ae42-0e58d3558a49" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:24.590 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 209.1990 ms
2025-06-03 01:31:24.598 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0288 ms
2025-06-03 01:31:24.602 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1800 ms
2025-06-03 01:31:24.608 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0267 ms
2025-06-03 01:31:24.784 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0246 ms
2025-06-03 01:31:24.788 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1232 ms
2025-06-03 01:31:24.788 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'mm'
2025-06-03 01:31:24.796 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:24.802 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:24.812 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:24.816 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0488a519-a4e1-472c-948e-9d7cb5f8ba78" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:24.818 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0488a519-a4e1-472c-948e-9d7cb5f8ba78" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:24.820 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 207.4964 ms
2025-06-03 01:31:24.828 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0198 ms
2025-06-03 01:31:24.831 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1772 ms
2025-06-03 01:31:24.837 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0206 ms
2025-06-03 01:31:24.968 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0243 ms
2025-06-03 01:31:24.973 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1339 ms
2025-06-03 01:31:24.973 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:24.982 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:24.988 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:24.994 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:24.998 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0d53b816-edf2-4ab6-bd54-6aa042ca6b4d" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:25.000 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "0d53b816-edf2-4ab6-bd54-6aa042ca6b4d" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:25.003 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 161.9735 ms
2025-06-03 01:31:25.009 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0356 ms
2025-06-03 01:31:25.014 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1511 ms
2025-06-03 01:31:25.021 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0327 ms
2025-06-03 01:31:25.125 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0209 ms
2025-06-03 01:31:25.129 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1194 ms
2025-06-03 01:31:25.129 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:25.135 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:25.141 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:25.146 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:25.150 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "bc144e5c-839f-4792-a147-366b920a29b7" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:25.152 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "bc144e5c-839f-4792-a147-366b920a29b7" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:25.154 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 127.3872 ms
2025-06-03 01:31:25.160 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0203 ms
2025-06-03 01:31:25.165 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1381 ms
2025-06-03 01:31:25.170 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0196 ms
2025-06-03 01:31:25.404 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0217 ms
2025-06-03 01:31:25.420 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1795 ms
2025-06-03 01:31:25.420 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:25.428 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:25.437 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:25.446 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:25.451 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "f4cae49d-05b9-4528-a374-9856fd83f5e0" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:25.455 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "f4cae49d-05b9-4528-a374-9856fd83f5e0" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:25.457 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 284.2439 ms
2025-06-03 01:31:25.464 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0265 ms
2025-06-03 01:31:25.470 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1986 ms
2025-06-03 01:31:25.478 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0283 ms
2025-06-03 01:31:25.504 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0242 ms
2025-06-03 01:31:25.510 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2351 ms
2025-06-03 01:31:25.510 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:25.517 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:25.523 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:25.530 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:25.533 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "5907b4c8-4913-4b83-b9d9-56faddb453f8" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:25.536 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "5907b4c8-4913-4b83-b9d9-56faddb453f8" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:25.538 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 56.2552 ms
2025-06-03 01:31:25.546 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0188 ms
2025-06-03 01:31:25.550 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1558 ms
2025-06-03 01:31:25.556 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0201 ms
2025-06-03 01:31:25.651 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0324 ms
2025-06-03 01:31:25.656 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1688 ms
2025-06-03 01:31:25.656 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:25.665 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:25.672 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:25.679 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:25.683 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "6e33eff2-8274-4880-99b0-42679d99c359" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:25.687 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "6e33eff2-8274-4880-99b0-42679d99c359" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:25.689 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 129.4706 ms
2025-06-03 01:31:25.695 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0195 ms
2025-06-03 01:31:25.699 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1707 ms
2025-06-03 01:31:25.706 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0267 ms
2025-06-03 01:31:25.868 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0266 ms
2025-06-03 01:31:25.873 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1315 ms
2025-06-03 01:31:25.873 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:25.882 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:25.890 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:25.895 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:25.898 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "e8320a3d-a0cc-41a0-bb8a-45e2b1fa2dba" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:25.902 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "e8320a3d-a0cc-41a0-bb8a-45e2b1fa2dba" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:25.905 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 194.6526 ms
2025-06-03 01:31:25.910 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0187 ms
2025-06-03 01:31:25.914 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1517 ms
2025-06-03 01:31:25.921 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0209 ms
2025-06-03 01:31:26.001 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0229 ms
2025-06-03 01:31:26.006 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1260 ms
2025-06-03 01:31:26.006 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:26.013 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:26.020 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:26.027 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:26.032 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "1da2f86a-a53f-4032-b9f5-38b9855acb9f" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:26.035 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "1da2f86a-a53f-4032-b9f5-38b9855acb9f" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:26.038 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 113.7226 ms
2025-06-03 01:31:26.046 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0200 ms
2025-06-03 01:31:26.050 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1895 ms
2025-06-03 01:31:26.057 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0227 ms
2025-06-03 01:31:26.260 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0326 ms
2025-06-03 01:31:26.265 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2259 ms
2025-06-03 01:31:26.265 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'mm'
2025-06-03 01:31:26.273 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:26.280 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:26.286 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:26.292 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "be02e4e6-91d5-4da5-8f0c-fc16986ba96b" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:26.296 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "be02e4e6-91d5-4da5-8f0c-fc16986ba96b" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:26.299 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 239.0044 ms
2025-06-03 01:31:26.306 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0414 ms
2025-06-03 01:31:26.311 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2356 ms
2025-06-03 01:31:26.318 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0309 ms
2025-06-03 01:31:26.393 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0245 ms
2025-06-03 01:31:26.397 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1359 ms
2025-06-03 01:31:26.397 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:26.405 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:26.413 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:26.419 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:26.423 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "be38e90e-f681-470c-8607-cd558775c017" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:26.426 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "be38e90e-f681-470c-8607-cd558775c017" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:26.429 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 105.0705 ms
2025-06-03 01:31:26.438 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0373 ms
2025-06-03 01:31:26.442 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2142 ms
2025-06-03 01:31:26.449 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0254 ms
2025-06-03 01:31:26.640 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0231 ms
2025-06-03 01:31:26.645 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.2232 ms
2025-06-03 01:31:26.645 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:26.653 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:26.660 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:26.667 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:26.671 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "7446e7ab-5d7b-4edf-8452-c8fb539f7909" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:26.673 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "7446e7ab-5d7b-4edf-8452-c8fb539f7909" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:26.676 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 223.7311 ms
2025-06-03 01:31:26.684 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0206 ms
2025-06-03 01:31:26.688 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1911 ms
2025-06-03 01:31:26.694 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0184 ms
2025-06-03 01:31:26.779 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.2724 ms
2025-06-03 01:31:26.790 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1882 ms
2025-06-03 01:31:26.790 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:26.799 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:26.810 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:26.816 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:26.821 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "c38dd554-ea6b-49fb-8240-e9b956465232" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:26.824 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "c38dd554-ea6b-49fb-8240-e9b956465232" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:26.827 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 128.9342 ms
2025-06-03 01:31:26.833 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0267 ms
2025-06-03 01:31:26.839 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2278 ms
2025-06-03 01:31:26.846 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0254 ms
2025-06-03 01:31:26.906 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0210 ms
2025-06-03 01:31:26.911 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1487 ms
2025-06-03 01:31:26.912 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:26.919 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:26.927 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:26.932 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:26.936 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "6a9adf3b-592e-4273-9903-34bc154855ff" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:26.939 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "6a9adf3b-592e-4273-9903-34bc154855ff" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:26.943 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 92.2944 ms
2025-06-03 01:31:26.950 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0182 ms
2025-06-03 01:31:26.953 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1741 ms
2025-06-03 01:31:26.961 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0241 ms
2025-06-03 01:31:27.046 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0219 ms
2025-06-03 01:31:27.051 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1468 ms
2025-06-03 01:31:27.051 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:27.059 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:27.066 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:27.071 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:27.075 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "f5ed7fe5-0217-45d4-9682-e32e391cb05d" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:27.078 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "f5ed7fe5-0217-45d4-9682-e32e391cb05d" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:27.084 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 118.8943 ms
2025-06-03 01:31:27.094 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0194 ms
2025-06-03 01:31:27.100 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.2105 ms
2025-06-03 01:31:27.105 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0274 ms
2025-06-03 01:31:27.169 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0201 ms
2025-06-03 01:31:27.176 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.9783 ms
2025-06-03 01:31:27.178 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:27.185 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:27.192 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:27.199 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:27.202 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "19860834-b90b-412a-a679-fd0b9fa58c2e" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:27.205 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "19860834-b90b-412a-a679-fd0b9fa58c2e" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:27.209 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 99.8054 ms
2025-06-03 01:31:27.216 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0223 ms
2025-06-03 01:31:27.219 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1566 ms
2025-06-03 01:31:27.226 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0239 ms
2025-06-03 01:31:27.292 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0259 ms
2025-06-03 01:31:27.297 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1351 ms
2025-06-03 01:31:27.297 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:27.303 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:27.309 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:27.313 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:27.317 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "3bf7e4ef-20d7-496f-a866-f5fb7a82026e" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:27.320 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "3bf7e4ef-20d7-496f-a866-f5fb7a82026e" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:27.322 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 92.7590 ms
2025-06-03 01:31:27.327 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0189 ms
2025-06-03 01:31:27.331 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1975 ms
2025-06-03 01:31:27.336 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0330 ms
2025-06-03 01:31:27.578 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0227 ms
2025-06-03 01:31:27.582 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1180 ms
2025-06-03 01:31:27.582 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:27.588 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:27.592 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:27.596 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:27.600 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "4374d0ce-08b4-42b1-ae09-532cc83929cd" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:27.602 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "4374d0ce-08b4-42b1-ae09-532cc83929cd" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:27.604 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 264.8689 ms
2025-06-03 01:31:27.610 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0256 ms
2025-06-03 01:31:27.614 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1685 ms
2025-06-03 01:31:27.620 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.1235 ms
2025-06-03 01:31:27.723 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0190 ms
2025-06-03 01:31:27.727 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1153 ms
2025-06-03 01:31:27.727 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:27.733 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:27.737 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:27.741 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:27.744 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "70ec800c-65ec-493e-b5e2-10fab6404bb1" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:27.750 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "70ec800c-65ec-493e-b5e2-10fab6404bb1" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:27.753 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 127.9137 ms
2025-06-03 01:31:27.758 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0198 ms
2025-06-03 01:31:27.762 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1578 ms
2025-06-03 01:31:27.769 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0241 ms
2025-06-03 01:31:28.053 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0245 ms
2025-06-03 01:31:28.059 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1813 ms
2025-06-03 01:31:28.059 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:28.066 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:28.070 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:28.074 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:28.079 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "43e39790-3e0d-4876-ac70-296058a5efde" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:28.081 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "43e39790-3e0d-4876-ac70-296058a5efde" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:28.083 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 311.5244 ms
2025-06-03 01:31:28.089 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0192 ms
2025-06-03 01:31:28.095 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1322 ms
2025-06-03 01:31:28.100 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0252 ms
2025-06-03 01:31:28.187 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0212 ms
2025-06-03 01:31:28.191 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1148 ms
2025-06-03 01:31:28.191 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:28.196 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:28.201 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:28.205 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:28.208 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "90d5a902-5534-4c99-acb5-072c1484c442" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:28.210 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "90d5a902-5534-4c99-acb5-072c1484c442" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:28.214 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 111.2226 ms
2025-06-03 01:31:28.220 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0208 ms
2025-06-03 01:31:28.224 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1461 ms
2025-06-03 01:31:28.229 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0200 ms
2025-06-03 01:31:28.309 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0287 ms
2025-06-03 01:31:28.313 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1869 ms
2025-06-03 01:31:28.314 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'm'
2025-06-03 01:31:28.319 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:28.325 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:28.330 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:28.333 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "664eebda-7f3d-4d15-909a-9c9519b95d6a" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:28.335 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "664eebda-7f3d-4d15-909a-9c9519b95d6a" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:28.340 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 107.4665 ms
2025-06-03 01:31:28.346 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0197 ms
2025-06-03 01:31:28.350 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1726 ms
2025-06-03 01:31:28.355 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0236 ms
2025-06-03 01:31:39.059 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0229 ms
2025-06-03 01:31:39.063 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1205 ms
2025-06-03 01:31:39.063 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'dfg'
2025-06-03 01:31:39.069 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:39.080 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:39.085 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:39.089 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "d823e337-833b-4bed-a40e-2d9a134716bc" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:39.093 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "d823e337-833b-4bed-a40e-2d9a134716bc" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:39.096 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 10737.6877 ms
2025-06-03 01:31:39.105 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0307 ms
2025-06-03 01:31:39.113 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.6148 ms
2025-06-03 01:31:39.123 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0326 ms
2025-06-03 01:31:39.628 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0236 ms
2025-06-03 01:31:39.633 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1414 ms
2025-06-03 01:31:39.633 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'dfg'
2025-06-03 01:31:39.638 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:39.642 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:39.647 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:39.650 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "cb083089-65b8-419d-9dda-8da04f8a982a" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:39.653 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "cb083089-65b8-419d-9dda-8da04f8a982a" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:39.655 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 525.0174 ms
2025-06-03 01:31:39.660 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0191 ms
2025-06-03 01:31:39.664 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1660 ms
2025-06-03 01:31:39.670 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0283 ms
2025-06-03 01:31:40.002 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0229 ms
2025-06-03 01:31:40.007 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1375 ms
2025-06-03 01:31:40.007 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'g'
2025-06-03 01:31:40.012 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:40.016 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:40.021 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:40.024 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "541cb95f-d56a-4f61-a62e-10e2a3214be2" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:40.026 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "541cb95f-d56a-4f61-a62e-10e2a3214be2" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:40.028 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 354.4290 ms
2025-06-03 01:31:40.034 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0200 ms
2025-06-03 01:31:40.037 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1611 ms
2025-06-03 01:31:40.043 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0187 ms
2025-06-03 01:31:40.303 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0318 ms
2025-06-03 01:31:40.308 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1266 ms
2025-06-03 01:31:40.308 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'dg'
2025-06-03 01:31:40.313 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:31:40.317 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:31:40.321 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (0ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:31:40.324 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "b34d277b-c137-49f8-8e0a-4a865f6689d7" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:31:40.330 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "b34d277b-c137-49f8-8e0a-4a865f6689d7" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:31:40.332 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 286.1354 ms
2025-06-03 01:31:40.337 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0344 ms
2025-06-03 01:31:40.341 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1979 ms
2025-06-03 01:31:40.346 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0367 ms
2025-06-03 01:32:47.213 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 204 in 0.0225 ms
2025-06-03 01:32:47.217 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 404 in 0.1068 ms
2025-06-03 01:33:10.361 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90012.3854 ms
2025-06-03 01:33:10.367 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0196 ms
2025-06-03 01:33:37.314 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0339 ms
2025-06-03 01:33:37.320 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1864 ms
2025-06-03 01:33:37.321 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'sfsdffffffffffffffff...'
2025-06-03 01:33:37.329 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:33:37.337 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:33:37.342 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:33:37.347 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "5d51a9dd-eb0c-4dc1-ab77-7247cd6da467" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:33:37.351 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "5d51a9dd-eb0c-4dc1-ab77-7247cd6da467" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:33:37.353 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 26981.9662 ms
2025-06-03 01:33:37.359 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0302 ms
2025-06-03 01:33:37.367 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1858 ms
2025-06-03 01:33:37.375 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0271 ms
2025-06-03 01:33:45.010 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0213 ms
2025-06-03 01:33:45.016 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP POST /chathub responded 200 in 0.1945 ms
2025-06-03 01:33:45.017 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) User "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" sending private message to "21c33099-ee6b-4e62-83a8-f7c51c0be4fa": 'd nu thi giand n...'
2025-06-03 01:33:45.028 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[AvatarUrl], [u].[CreatedAtUtc], [u].[DisplayName], [u].[Email], [u].[ExternalId], [u].[IsActive], [u].[LastSeenUtc], [u].[ProviderName], [u].[UpdatedAtUtc]
FROM [Users] AS [u]
WHERE [u].[Id] = @__p_0
2025-06-03 01:33:45.034 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PrivateMessages] ([Id], [Content], [CreatedAtUtc], [IsFromAI], [IsRead], [ReceiverId], [SenderId], [TimestampUtc], [UpdatedAtUtc])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-06-03 01:33:45.040 +07:00 [INF] (Microsoft.EntityFrameworkCore.Database.Command) Executed DbCommand (1ms) [Parameters=[@__receiverId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__receiverId_0
2025-06-03 01:33:45.044 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "5fc2e213-2295-419d-88a1-d462ec671bbb" to Receiver "21c33099-ee6b-4e62-83a8-f7c51c0be4fa" connections: 4MTAGluKEoPI74kJP9e-Tg, 5jk62zEQRKr3LGGFscJW7g, 70aygQ4vOXLnupLZTajhoQ, 8asyKudtPOosXLqHSMN90A, AOqCzGsw5zB4l6QbM1t2-g, BHyH8GWpBpt3igZbibB0FA, d7gG7h6yqHFq59MRvr77oQ, eSO8DJ_dGlG0dKOg34-Pxw, kXG0GNvzgQsdkS2B_gTrzg, o8MAhzHqzibTVx1QY5eyHQ, oDeMLfQtHMRCCv3Vo_FmSg, QnTYZYm9WJWfw41eHMwsiA, RVTNowN9xWTMpKhjB6pOeQ, SUc6YKheZVH1LuuxOz7sQA, YrD5vAwN_7UGRmvpnH6QdQ
2025-06-03 01:33:45.047 +07:00 [INF] (ChatApp.Api.Hubs.ChatHub) Sending message "5fc2e213-2295-419d-88a1-d462ec671bbb" back to Sender "b5c30aa1-172a-4bd6-9579-d3d36c55ca68" (Connection: 6tmtF1Jhsl3gjjrKD6PLCw)
2025-06-03 01:33:45.049 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 7668.3758 ms
2025-06-03 01:33:45.056 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0212 ms
2025-06-03 01:33:45.061 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 0.1631 ms
2025-06-03 01:33:45.067 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0209 ms
2025-06-03 01:33:51.971 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 204 in 0.0208 ms
2025-06-03 01:33:51.977 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /api/private-messages/21c33099-ee6b-4e62-83a8-f7c51c0be4fa responded 404 in 0.1275 ms
2025-06-03 01:35:15.083 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90010.5577 ms
2025-06-03 01:35:15.093 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0337 ms
2025-06-03 01:36:45.106 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP GET /chathub responded 200 in 90009.4423 ms
2025-06-03 01:36:45.114 +07:00 [INF] (Serilog.AspNetCore.RequestLoggingMiddleware) HTTP OPTIONS /chathub responded 204 in 0.0268 ms
